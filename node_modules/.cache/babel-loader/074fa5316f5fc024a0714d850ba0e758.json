{"ast":null,"code":"import Home from\"./pages/home/Home\";import Login from\"./pages/login/Login\";import Profile from\"./pages/profile/Profile\";import Register from\"./pages/register/Register\";import{BrowserRouter as Router,Switch,Route,Redirect}from\"react-router-dom\";import{useContext,useEffect,useRef,useState}from\"react\";import{AuthContext}from\"./context/AuthContext\";import Messenger from\"./pages/messenger/Messenger\";import{UpdateProfile}from\"./pages/updateProfile/UpdateProfile\";import TagUser from\"./components/tagUser/TagUser\";import{io}from\"socket.io-client\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useContext=useContext(AuthContext),user=_useContext.user;var socket=useRef();useEffect(function(){socket.current=io(\"https://socialbooksumit.herokuapp.com/\");},[]);useEffect(function(){socket===null||socket===void 0?void 0:socket.current.emit(\"addUser\",user===null||user===void 0?void 0:user._id);},[socket,user]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:user?/*#__PURE__*/_jsx(Home,{socket:socket}):/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:user?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",children:user?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/messenger\",children:!user?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(Messenger,{socket:socket})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:userId\",children:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/updateProfile/:userId\",children:/*#__PURE__*/_jsx(UpdateProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/searchUser\",children:/*#__PURE__*/_jsx(TagUser,{})})]})});}export default App;//\"https://firebasestorage.googleapis.com/v0/b/socialmeo-c671e.appspot.com/o/images%2FIMG_20201230_123423.jpg63de8458-8392-4b87-8046-c66e2979b3b4?alt=media&token=f79eb8d9-61bf-4760-be4c-b754473f5a32\"","map":{"version":3,"names":["Home","Login","Profile","Register","BrowserRouter","Router","Switch","Route","Redirect","useContext","useEffect","useRef","useState","AuthContext","Messenger","UpdateProfile","TagUser","io","App","user","socket","current","emit","_id"],"sources":["D:/js/socialsite/SOCIALBOOK/connect/react-social/src/App.js"],"sourcesContent":["import Home from \"./pages/home/Home\";\r\nimport Login from \"./pages/login/Login\";\r\nimport Profile from \"./pages/profile/Profile\";\r\nimport Register from \"./pages/register/Register\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport Messenger from \"./pages/messenger/Messenger\";\r\nimport { UpdateProfile } from \"./pages/updateProfile/UpdateProfile\";\r\nimport TagUser from \"./components/tagUser/TagUser\";\r\nimport { io } from \"socket.io-client\";\r\n\r\n\r\nfunction App() {\r\n  const { user } = useContext(AuthContext);\r\n  const socket = useRef();\r\n\r\n\r\n  useEffect(() => {\r\n    socket.current = io(\"https://socialbooksumit.herokuapp.com/\");\r\n  }, [])\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    socket?.current.emit(\"addUser\", user?._id);\r\n  }, [socket, user])\r\n\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          {user ? <Home socket={socket} /> : <Register />}\r\n        </Route>\r\n        <Route path=\"/login\">{user ? <Redirect to=\"/\" /> : <Login />}</Route>\r\n        <Route path=\"/register\">\r\n          {user ? <Redirect to=\"/\" /> : <Register />}\r\n        </Route>\r\n        <Route path=\"/messenger\">\r\n          {!user ? <Redirect to=\"/\" /> : <Messenger socket={socket} />}\r\n        </Route>\r\n        <Route path=\"/profile/:userId\">\r\n          <Profile />\r\n        </Route>\r\n        <Route path=\"/updateProfile/:userId\">\r\n          <UpdateProfile />\r\n        </Route>\r\n        <Route path=\"/searchUser\">\r\n          <TagUser />\r\n        </Route>\r\n\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n//\"https://firebasestorage.googleapis.com/v0/b/socialmeo-c671e.appspot.com/o/images%2FIMG_20201230_123423.jpg63de8458-8392-4b87-8046-c66e2979b3b4?alt=media&token=f79eb8d9-61bf-4760-be4c-b754473f5a32\""],"mappings":"AAAA,MAAOA,KAAP,KAAiB,mBAAjB,CACA,MAAOC,MAAP,KAAkB,qBAAlB,CACA,MAAOC,QAAP,KAAoB,yBAApB,CACA,MAAOC,SAAP,KAAqB,2BAArB,CACA,OACEC,aAAa,GAAIC,OADnB,CAEEC,MAFF,CAGEC,KAHF,CAIEC,QAJF,KAKO,kBALP,CAMA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,MAAhC,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,OAASC,WAAT,KAA4B,uBAA5B,CACA,MAAOC,UAAP,KAAsB,6BAAtB,CACA,OAASC,aAAT,KAA8B,qCAA9B,CACA,MAAOC,QAAP,KAAoB,8BAApB,CACA,OAASC,EAAT,KAAmB,kBAAnB,C,wFAGA,QAASC,IAAT,EAAe,CACb,gBAAiBT,UAAU,CAACI,WAAD,CAA3B,CAAQM,IAAR,aAAQA,IAAR,CACA,GAAMC,OAAM,CAAGT,MAAM,EAArB,CAGAD,SAAS,CAAC,UAAM,CACdU,MAAM,CAACC,OAAP,CAAiBJ,EAAE,CAAC,wCAAD,CAAnB,CACD,CAFQ,CAEN,EAFM,CAAT,CAMAP,SAAS,CAAC,UAAM,CACdU,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEC,OAAR,CAAgBC,IAAhB,CAAqB,SAArB,CAAgCH,IAAhC,SAAgCA,IAAhC,iBAAgCA,IAAI,CAAEI,GAAtC,EACD,CAFQ,CAEN,CAACH,MAAD,CAASD,IAAT,CAFM,CAAT,CAKA,mBACE,KAAC,MAAD,wBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,UACGA,IAAI,cAAG,KAAC,IAAD,EAAM,MAAM,CAAEC,MAAd,EAAH,cAA8B,KAAC,QAAD,IADrC,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,UAAsBD,IAAI,cAAG,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAH,cAAyB,KAAC,KAAD,IAAnD,EAJF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,UACGA,IAAI,cAAG,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAH,cAAyB,KAAC,QAAD,IADhC,EALF,cAQE,KAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,UACG,CAACA,IAAD,cAAQ,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAR,cAA8B,KAAC,SAAD,EAAW,MAAM,CAAEC,MAAnB,EADjC,EARF,cAWE,KAAC,KAAD,EAAO,IAAI,CAAC,kBAAZ,uBACE,KAAC,OAAD,IADF,EAXF,cAcE,KAAC,KAAD,EAAO,IAAI,CAAC,wBAAZ,uBACE,KAAC,aAAD,IADF,EAdF,cAiBE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,uBACE,KAAC,OAAD,IADF,EAjBF,GADF,EADF,CA0BD,CAED,cAAeF,IAAf,CAEA"},"metadata":{},"sourceType":"module"}