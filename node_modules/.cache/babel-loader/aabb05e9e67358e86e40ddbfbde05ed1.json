{"ast":null,"code":"import _regeneratorRuntime from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./messenger.css\";import Topbar from\"../../components/topbar/Topbar\";import Conversation from\"../../components/conversations/Conversations\";import Message from\"../../components/message/Message\";import ChatOnline from\"../../components/chatOnline/ChatOnline\";import{useContext,useEffect,useRef,useState}from\"react\";import{AuthContext}from\"../../context/AuthContext\";import{axiosInstance}from\"../../config\";import useWidth from\"../../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Messenger(_ref){var socket=_ref.socket;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),conversations=_useState2[0],setConversations=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),currentChat=_useState4[0],setCurrentChat=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),messages=_useState6[0],setMessages=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),newMessage=_useState8[0],setNewMessage=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),arrivalMessage=_useState10[0],setArrivalMessage=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),onlineUsers=_useState12[0],setOnlineUsers=_useState12[1];var _useContext=useContext(AuthContext),user=_useContext.user;var width=useWidth();var scrollRef=useRef();useEffect(function(){socket===null||socket===void 0?void 0:socket.current.on(\"getMessage\",function(data){setArrivalMessage({sender:data.senderId,text:data.text,createdAt:Date.now()});});},[socket]);useEffect(function(){arrivalMessage&&(currentChat===null||currentChat===void 0?void 0:currentChat.members.includes(arrivalMessage.sender))&&setMessages(function(prev){return[].concat(_toConsumableArray(prev),[arrivalMessage]);});},[arrivalMessage,currentChat]);useEffect(function(){var _socket$current;socket===null||socket===void 0?void 0:(_socket$current=socket.current)===null||_socket$current===void 0?void 0:_socket$current.emit(\"addUser\",user._id);socket===null||socket===void 0?void 0:socket.current.on(\"getUsers\",function(users){setOnlineUsers(user.followings.filter(function(f){return users.some(function(u){return u.userId===f;});}));});},[user]);useEffect(function(){var getConversations=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axiosInstance.get(\"/conversations/\"+user._id);case 3:res=_context.sent;setConversations(res.data);//console.log(res)\n_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getConversations(){return _ref2.apply(this,arguments);};}();getConversations();},[user._id]);useEffect(function(){var getMessages=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axiosInstance.get(\"/messages/\"+(currentChat===null||currentChat===void 0?void 0:currentChat._id));case 3:res=_context2.sent;setMessages(res.data);//console.log(res)\n_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function getMessages(){return _ref3.apply(this,arguments);};}();getMessages();},[currentChat]);var handleSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var message,receiverId,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();message={sender:user._id,text:newMessage,conversationId:currentChat._id};receiverId=currentChat===null||currentChat===void 0?void 0:currentChat.members.find(function(member){return member!==user._id;});socket===null||socket===void 0?void 0:socket.current.emit(\"sendMessage\",{senderId:user._id,receiverId:receiverId,text:newMessage});_context3.prev=4;_context3.next=7;return axiosInstance.post(\"/messages\",message);case 7:res=_context3.sent;setMessages([].concat(_toConsumableArray(messages),[res.data]));setNewMessage(\"\");_context3.next=15;break;case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](4);console.log(_context3.t0);case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[4,12]]);}));return function handleSubmit(_x){return _ref4.apply(this,arguments);};}();useEffect(function(){var _scrollRef$current;(_scrollRef$current=scrollRef.current)===null||_scrollRef$current===void 0?void 0:_scrollRef$current.scrollIntoView({behavior:\"smooth\"});},[messages]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Topbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"messenger\",children:width>768?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"chatMenu\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chatMenuWrapper\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search for friends\",className:\"chatMenuInput\"}),conversations.map(function(c){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setCurrentChat(c);},children:/*#__PURE__*/_jsx(Conversation,{conversation:c,currentUser:user})});})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"chatBox\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chatBoxWrapper\",children:currentChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"chatBoxTop\",children:messages.map(function(m){return/*#__PURE__*/_jsx(\"div\",{ref:scrollRef,children:/*#__PURE__*/_jsx(Message,{message:m,own:m.sender===user._id,friend:m.sender!==user._id&&m.sender})});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chatBoxBottom\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"chatMessageInput\",placeholder:\"write something...\",onChange:function onChange(e){return setNewMessage(e.target.value);},value:newMessage}),/*#__PURE__*/_jsx(\"button\",{className:\"chatSubmitButton\",onClick:handleSubmit,children:\"Send\"})]})]}):/*#__PURE__*/_jsx(\"span\",{className:\"noConversationText\",children:\"Open a conversation to start a chat.\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"chatOnline\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chatOnlineWrapper\",children:/*#__PURE__*/_jsx(ChatOnline,{onlineUsers:onlineUsers,currentId:user._id,setCurrentChat:setCurrentChat})})})]}):/*#__PURE__*/_jsx(_Fragment,{children:!currentChat?/*#__PURE__*/_jsxs(\"div\",{className:\"chatMenuWrapper\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search for friends\",className:\"chatMenuInput\"}),conversations.map(function(c){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setCurrentChat(c);},children:/*#__PURE__*/_jsx(Conversation,{conversation:c,currentUser:user})});})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"chatBoxWrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chatBoxTop\",children:messages.map(function(m){return/*#__PURE__*/_jsx(\"div\",{ref:scrollRef,children:/*#__PURE__*/_jsx(Message,{message:m,own:m.sender===user._id,friend:m.sender!==user._id&&m.sender})});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chatBoxBottom\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"chatMessageInput\",placeholder:\"write something...\",onChange:function onChange(e){return setNewMessage(e.target.value);},value:newMessage}),/*#__PURE__*/_jsx(\"button\",{className:\"chatSubmitButton\",onClick:handleSubmit,children:\"Send\"})]})]})})})]});}","map":{"version":3,"names":["Topbar","Conversation","Message","ChatOnline","useContext","useEffect","useRef","useState","AuthContext","axiosInstance","useWidth","Messenger","socket","conversations","setConversations","currentChat","setCurrentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","onlineUsers","setOnlineUsers","user","width","scrollRef","current","on","data","sender","senderId","text","createdAt","Date","now","members","includes","prev","emit","_id","users","followings","filter","f","some","u","userId","getConversations","get","res","console","log","getMessages","handleSubmit","e","preventDefault","message","conversationId","receiverId","find","member","post","scrollIntoView","behavior","map","c","m","target","value"],"sources":["D:/js/socialsite/SOCIALBOOK/connect/react-social/src/pages/messenger/Messenger.jsx"],"sourcesContent":["import \"./messenger.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Conversation from \"../../components/conversations/Conversations\";\r\nimport Message from \"../../components/message/Message\";\r\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { axiosInstance } from \"../../config\";\r\nimport useWidth from \"../../config\";\r\n\r\nexport default function Messenger({ socket }) {\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  const [arrivalMessage, setArrivalMessage] = useState(null);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const { user } = useContext(AuthContext);\r\n  const width = useWidth();\r\n  const scrollRef = useRef();\r\n\r\n  useEffect(() => {\r\n    socket?.current.on(\"getMessage\", (data) => {\r\n      setArrivalMessage({\r\n        sender: data.senderId,\r\n        text: data.text,\r\n        createdAt: Date.now(),\r\n      });\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.includes(arrivalMessage.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMessage]);\r\n  }, [arrivalMessage, currentChat]);\r\n\r\n  useEffect(() => {\r\n    socket?.current?.emit(\"addUser\", user._id);\r\n\r\n    socket?.current.on(\"getUsers\", (users) => {\r\n      setOnlineUsers(\r\n        user.followings.filter((f) => users.some((u) => u.userId === f))\r\n      );\r\n    });\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    const getConversations = async () => {\r\n      try {\r\n        const res = await axiosInstance.get(\"/conversations/\" + user._id);\r\n        setConversations(res.data);\r\n        //console.log(res)\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getConversations();\r\n  }, [user._id]);\r\n\r\n  useEffect(() => {\r\n    const getMessages = async () => {\r\n      try {\r\n        const res = await axiosInstance.get(\"/messages/\" + currentChat?._id);\r\n        setMessages(res.data);\r\n        //console.log(res)\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getMessages();\r\n  }, [currentChat]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const message = {\r\n      sender: user._id,\r\n      text: newMessage,\r\n      conversationId: currentChat._id,\r\n    };\r\n\r\n    const receiverId = currentChat?.members.find(\r\n      (member) => member !== user._id\r\n    );\r\n\r\n    socket?.current.emit(\"sendMessage\", {\r\n      senderId: user._id,\r\n      receiverId,\r\n      text: newMessage,\r\n    });\r\n\r\n    try {\r\n      const res = await axiosInstance.post(\"/messages\", message);\r\n      setMessages([...messages, res.data]);\r\n      setNewMessage(\"\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"messenger\">\r\n        {width > 768 ? (\r\n          <>\r\n            <div className=\"chatMenu\">\r\n              <div className=\"chatMenuWrapper\">\r\n                <input\r\n                  placeholder=\"Search for friends\"\r\n                  className=\"chatMenuInput\"\r\n                />\r\n                {conversations.map((c) => (\r\n                  <div onClick={() => setCurrentChat(c)}>\r\n                    <Conversation conversation={c} currentUser={user} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"chatBox\">\r\n              <div className=\"chatBoxWrapper\">\r\n                {currentChat ? (\r\n                  <>\r\n                    <div className=\"chatBoxTop\">\r\n                      {messages.map((m) => (\r\n                        <div ref={scrollRef}>\r\n                          <Message\r\n                            message={m}\r\n                            own={m.sender === user._id}\r\n                            friend={m.sender !== user._id && m.sender}\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                    <div className=\"chatBoxBottom\">\r\n                      <textarea\r\n                        className=\"chatMessageInput\"\r\n                        placeholder=\"write something...\"\r\n                        onChange={(e) => setNewMessage(e.target.value)}\r\n                        value={newMessage}\r\n                      ></textarea>\r\n                      <button\r\n                        className=\"chatSubmitButton\"\r\n                        onClick={handleSubmit}\r\n                      >\r\n                        Send\r\n                      </button>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <span className=\"noConversationText\">\r\n                    Open a conversation to start a chat.\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"chatOnline\">\r\n              <div className=\"chatOnlineWrapper\">\r\n                <ChatOnline\r\n                  onlineUsers={onlineUsers}\r\n                  currentId={user._id}\r\n                  setCurrentChat={setCurrentChat}\r\n                />\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            {!currentChat ? (\r\n              <div className=\"chatMenuWrapper\">\r\n                <input\r\n                  placeholder=\"Search for friends\"\r\n                  className=\"chatMenuInput\"\r\n                />\r\n                {conversations.map((c) => (\r\n                  <div onClick={() => setCurrentChat(c)}>\r\n                    <Conversation conversation={c} currentUser={user} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"chatBoxWrapper\">\r\n                <div className=\"chatBoxTop\">\r\n                  {messages.map((m) => (\r\n                    <div ref={scrollRef}>\r\n                      <Message\r\n                        message={m}\r\n                        own={m.sender === user._id}\r\n                        friend={m.sender !== user._id && m.sender}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div className=\"chatBoxBottom\">\r\n                  <textarea\r\n                    className=\"chatMessageInput\"\r\n                    placeholder=\"write something...\"\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    value={newMessage}\r\n                  ></textarea>\r\n                  <button className=\"chatSubmitButton\" onClick={handleSubmit}>\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}