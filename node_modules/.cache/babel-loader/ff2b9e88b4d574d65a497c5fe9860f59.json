{"ast":null,"code":"import _regeneratorRuntime from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{axiosInstance}from\"../../config\";import\"./conversations.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Conversation(_ref){var conversation=_ref.conversation,currentUser=_ref.currentUser;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){var friendId=conversation.members.find(function(m){return m!==currentUser._id;});console.log(friendId);var getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axiosInstance.get(\"/users?userId=\"+friendId);case 3:res=_context.sent;setUser(res.data);//console.log(res)\n_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getUser(){return _ref2.apply(this,arguments);};}();getUser();},[currentUser,conversation]);return/*#__PURE__*/_jsxs(\"div\",{className:\"conversation\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"conversationImg\",src:(user===null||user===void 0?void 0:user.profilePicture)?user.profilePicture:\"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\",alt:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"conversationName\",children:user===null||user===void 0?void 0:user.username})]});}","map":{"version":3,"names":["useEffect","useState","axiosInstance","Conversation","conversation","currentUser","user","setUser","friendId","members","find","m","_id","console","log","getUser","get","res","data","profilePicture","username"],"sources":["D:/js/socialsite/SOCIALBOOK/connect/react-social/src/components/conversations/Conversations.jsx"],"sourcesContent":["\r\nimport { useEffect, useState } from \"react\";\r\nimport { axiosInstance } from \"../../config\";\r\nimport \"./conversations.css\";\r\n\r\nexport default function Conversation({ conversation, currentUser }) {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const friendId = conversation.members.find((m) => m !== currentUser._id);\r\n    console.log(friendId);\r\n\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axiosInstance.get(\"/users?userId=\" + friendId);\r\n        setUser(res.data);\r\n        //console.log(res)\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [currentUser, conversation]);\r\n\r\n  return (\r\n    <div className=\"conversation\">\r\n      <img\r\n        className=\"conversationImg\"\r\n        src={\r\n          user?.profilePicture\r\n            ? user.profilePicture\r\n            : \"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\"\r\n        }\r\n        alt=\"\"\r\n      />\r\n      <span className=\"conversationName\">{user?.username}</span>\r\n    </div>\r\n  );\r\n}"],"mappings":"kfACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,aAAT,KAA8B,cAA9B,CACA,MAAO,qBAAP,C,wFAEA,cAAe,SAASC,aAAT,MAAqD,IAA7BC,aAA6B,MAA7BA,YAA6B,CAAfC,WAAe,MAAfA,WAAe,CAClE,cAAwBJ,QAAQ,CAAC,IAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eAEAP,SAAS,CAAC,UAAM,CACd,GAAMQ,SAAQ,CAAGJ,YAAY,CAACK,OAAb,CAAqBC,IAArB,CAA0B,SAACC,CAAD,QAAOA,EAAC,GAAKN,WAAW,CAACO,GAAzB,EAA1B,CAAjB,CACAC,OAAO,CAACC,GAAR,CAAYN,QAAZ,EAEA,GAAMO,QAAO,2FAAG,iLAEMb,cAAa,CAACc,GAAd,CAAkB,iBAAmBR,QAArC,CAFN,QAENS,GAFM,eAGZV,OAAO,CAACU,GAAG,CAACC,IAAL,CAAP,CACA;AAJY,+EAMZL,OAAO,CAACC,GAAR,cANY,oEAAH,kBAAPC,QAAO,2CAAb,CASAA,OAAO,GACR,CAdQ,CAcN,CAACV,WAAD,CAAcD,YAAd,CAdM,CAAT,CAgBA,mBACE,aAAK,SAAS,CAAC,cAAf,wBACE,YACE,SAAS,CAAC,iBADZ,CAEE,GAAG,CACD,CAAAE,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEa,cAAN,EACIb,IAAI,CAACa,cADT,CAEI,yEALR,CAOE,GAAG,CAAC,EAPN,EADF,cAUE,aAAM,SAAS,CAAC,kBAAhB,UAAoCb,IAApC,SAAoCA,IAApC,iBAAoCA,IAAI,CAAEc,QAA1C,EAVF,GADF,CAcD"},"metadata":{},"sourceType":"module"}