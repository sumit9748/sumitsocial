{"ast":null,"code":"var _jsxFileName = \"D:\\\\js\\\\socialsite\\\\SOCIALBOOK\\\\connect\\\\react-social\\\\src\\\\components\\\\updateUser\\\\UpdateUser.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./updateUser.css\";\nimport AddImage from \"@mui/icons-material/AddAPhoto\";\nimport Cancel from \"@mui/icons-material/Cancel\";\nimport { useContext, useState } from \"react\";\nimport { useRef } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { axiosInstance } from \"../../config\"; //import { useFormControl } from \"../../../../../expense-manager/client/node_modules/@mui/material\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UpdateUser = _ref => {\n  _s();\n\n  let {\n    userc\n  } = _ref;\n  // console.log(userc.username);\n  const {\n    user\n  } = useContext(AuthContext);\n  const username = useRef();\n  const city = useRef();\n  const desc = useRef();\n  const password = useRef();\n  const relation = useRef();\n  const {\n    dispatch\n  } = useContext(AuthContext);\n  let relationship;\n\n  if (userc.relationship === 1) {\n    relationship = \"single\";\n  } else if (userc.relationship === 2) {\n    relationship = \"married\";\n  } else {\n    relationship = \"others\";\n  }\n\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [file, setFile] = useState(null);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const updatedUser = {\n      username: username.current.value ? username.current.value : userc.username,\n      city: city.current.value ? city.current.value : userc.city,\n      desc: desc.current.value ? desc.current.value : userc.desc,\n      relation: relation.current.value ? relation.current.value : userc.relationship,\n      userId: userc._id\n    };\n\n    if (file) {\n      const data = new FormData();\n      const FileName = Date.now() + file.name;\n      data.append(\"name\", FileName);\n      data.append(\"file\", file);\n      updatedUser.profilePicture = FileName;\n\n      try {\n        await axiosInstance.post(\"/upload\", data);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    try {\n      await axiosInstance.put(\"/users/\" + user._id, updatedUser); //updateUserInfo = { updateUserInfo };\n\n      try {\n        const res = await axiosInstance.get(`/users?userId=${userc._id}`);\n        dispatch({\n          type: \"UPDATE_USER\",\n          payload: res.data\n        });\n      } catch (err) {}\n\n      window.location.reload();\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"updateUser\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"updateUserWrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"updateUserTop\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"updateUserTopLeft\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"userDetailsText\",\n            children: \"User Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"updateUserItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"updateUserKey\",\n              children: \"Username:-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"updateUserValue\",\n              children: userc.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"updateUserItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"updateUserKey\",\n              children: \"From:-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"updateUserValue\",\n              children: userc.city\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"updateUserItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"updateUserKey\",\n              children: \"Desc:-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"updateUserValue\",\n              children: userc.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"updateUserItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"updateUserKey\",\n              children: \"RelationShip Stats:-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"updateUserValue\",\n              children: relationship\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"updateUserTopRight\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: userc.profilePicture ? PF + userc.profilePicture : PF + \"noprofile.jpg\",\n            alt: \"\",\n            className: \"imgContainer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"updateHr\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"updateUserBottom\",\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"updateUserBottomLeft\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"change username..\",\n            className: \"inputChange\",\n            ref: username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"change desc..\",\n            className: \"inputChange\",\n            ref: desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"change Address..\",\n            className: \"inputChange\",\n            ref: city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"change Password..\",\n            className: \"inputChange\",\n            ref: password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"radioContainer\",\n            id: \"relation\",\n            ref: relation,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"input Label\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"1\",\n                name: \"inputRadio\",\n                value: \"1\",\n                className: \"inputRadio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), \"Single\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"input Label\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"2\",\n                value: \"2\",\n                name: \"inputRadio\",\n                className: \"inputRadio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this), \"Married\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"input Label\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"3\",\n                value: \"3\",\n                name: \"inputRadio\",\n                className: \"inputRadio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this), \"Complex\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"updateButton\",\n            type: \"submit\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"file\",\n          className: \"updateUserBottomRight\",\n          children: [file && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fileImgContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"shareImg\",\n              src: URL.createObjectURL(file),\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Cancel, {\n              className: \"shareCancelImg\",\n              onClick: () => setFile(null)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"file\",\n            style: {\n              display: \"none\"\n            },\n            accept: \".jpg,.jpeg,.png\",\n            onChange: e => setFile(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AddImage, {\n            className: \"registerIconAdd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UpdateUser, \"s+jIHuCCWWAjsx9dSAeEke81M4E=\");\n\n_c = UpdateUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateUser\");","map":{"version":3,"sources":["D:/js/socialsite/SOCIALBOOK/connect/react-social/src/components/updateUser/UpdateUser.jsx"],"names":["AddImage","Cancel","useContext","useState","useRef","AuthContext","axiosInstance","UpdateUser","userc","user","username","city","desc","password","relation","dispatch","relationship","PF","process","env","REACT_APP_PUBLIC_FOLDER","file","setFile","submitHandler","e","preventDefault","updatedUser","current","value","userId","_id","data","FormData","FileName","Date","now","name","append","profilePicture","post","err","console","log","put","res","get","type","payload","window","location","reload","URL","createObjectURL","display","target","files"],"mappings":"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","sourcesContent":["import \"./updateUser.css\";\r\nimport AddImage from \"@mui/icons-material/AddAPhoto\";\r\nimport Cancel from \"@mui/icons-material/Cancel\";\r\nimport { useContext, useState } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { axiosInstance } from \"../../config\";\r\n\r\n//import { useFormControl } from \"../../../../../expense-manager/client/node_modules/@mui/material\";\r\n\r\nexport const UpdateUser = ({ userc }) => {\r\n  // console.log(userc.username);\r\n  const { user } = useContext(AuthContext);\r\n  const username = useRef();\r\n  const city = useRef();\r\n  const desc = useRef();\r\n  const password = useRef();\r\n  const relation = useRef();\r\n  const { dispatch } = useContext(AuthContext);\r\n\r\n  let relationship;\r\n\r\n  if (userc.relationship === 1) {\r\n    relationship = \"single\";\r\n  } else if (userc.relationship === 2) {\r\n    relationship = \"married\";\r\n  } else {\r\n    relationship = \"others\";\r\n  }\r\n\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [file, setFile] = useState(null);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const updatedUser = {\r\n      username: username.current.value\r\n        ? username.current.value\r\n        : userc.username,\r\n      city: city.current.value ? city.current.value : userc.city,\r\n      desc: desc.current.value ? desc.current.value : userc.desc,\r\n      relation: relation.current.value\r\n        ? relation.current.value\r\n        : userc.relationship,\r\n      userId: userc._id,\r\n    };\r\n    if (file) {\r\n      const data = new FormData();\r\n      const FileName = Date.now() + file.name;\r\n      data.append(\"name\", FileName);\r\n      data.append(\"file\", file);\r\n      updatedUser.profilePicture = FileName;\r\n      try {\r\n        await axiosInstance.post(\"/upload\", data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n    try {\r\n      await axiosInstance.put(\"/users/\" + user._id, updatedUser);\r\n      //updateUserInfo = { updateUserInfo };\r\n      try {\r\n        const res = await axiosInstance.get(`/users?userId=${userc._id}`);\r\n        dispatch({ type: \"UPDATE_USER\", payload: res.data });\r\n      } catch (err) { }\r\n      window.location.reload();\r\n    } catch (err) { }\r\n  };\r\n\r\n  return (\r\n    <div className=\"updateUser\">\r\n      <div className=\"updateUserWrapper\">\r\n        <div className=\"updateUserTop\">\r\n          <div className=\"updateUserTopLeft\">\r\n            <h1 className=\"userDetailsText\">User Details</h1>\r\n            <div className=\"updateUserItem\">\r\n              <label className=\"updateUserKey\">Username:-</label>\r\n              <span className=\"updateUserValue\">{userc.username}</span>\r\n            </div>\r\n            <div className=\"updateUserItem\">\r\n              <label className=\"updateUserKey\">From:-</label>\r\n              <span className=\"updateUserValue\">{userc.city}</span>\r\n            </div>\r\n            <div className=\"updateUserItem\">\r\n              <label className=\"updateUserKey\">Desc:-</label>\r\n              <span className=\"updateUserValue\">{userc.desc}</span>\r\n            </div>\r\n            <div className=\"updateUserItem\">\r\n              <label className=\"updateUserKey\">RelationShip Stats:-</label>\r\n              <span className=\"updateUserValue\">{relationship}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"updateUserTopRight\">\r\n            <img\r\n              src={\r\n                userc.profilePicture\r\n                  ? PF + userc.profilePicture\r\n                  : PF + \"noprofile.jpg\"\r\n              }\r\n              alt=\"\"\r\n              className=\"imgContainer\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <hr className=\"updateHr\" />\r\n        <form className=\"updateUserBottom\" onSubmit={submitHandler}>\r\n          <div className=\"updateUserBottomLeft\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"change username..\"\r\n              className=\"inputChange\"\r\n              ref={username}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"change desc..\"\r\n              className=\"inputChange\"\r\n              ref={desc}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"change Address..\"\r\n              className=\"inputChange\"\r\n              ref={city}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"change Password..\"\r\n              className=\"inputChange\"\r\n              ref={password}\r\n            />\r\n            <div className=\"radioContainer\" id=\"relation\" ref={relation}>\r\n              <label className=\"input Label\">\r\n                <input\r\n                  type=\"radio\"\r\n                  id=\"1\"\r\n                  name=\"inputRadio\"\r\n                  value=\"1\"\r\n                  className=\"inputRadio\"\r\n                />\r\n                Single\r\n              </label>\r\n              <label className=\"input Label\">\r\n                <input\r\n                  type=\"radio\"\r\n                  id=\"2\"\r\n                  value=\"2\"\r\n                  name=\"inputRadio\"\r\n                  className=\"inputRadio\"\r\n                />\r\n                Married\r\n              </label>\r\n              <label className=\"input Label\">\r\n                <input\r\n                  type=\"radio\"\r\n                  id=\"3\"\r\n                  value=\"3\"\r\n                  name=\"inputRadio\"\r\n                  className=\"inputRadio\"\r\n                />\r\n                Complex\r\n              </label>\r\n            </div>\r\n            <button className=\"updateButton\" type=\"submit\">\r\n              Update\r\n            </button>\r\n          </div>\r\n\r\n          <label htmlFor=\"file\" className=\"updateUserBottomRight\">\r\n            {file && (\r\n              <div className=\"fileImgContainer\">\r\n                <img\r\n                  className=\"shareImg\"\r\n                  src={URL.createObjectURL(file)}\r\n                  alt=\"\"\r\n                />\r\n                <Cancel\r\n                  className=\"shareCancelImg\"\r\n                  onClick={() => setFile(null)}\r\n                />\r\n              </div>\r\n            )}\r\n            <input\r\n              type=\"file\"\r\n              id=\"file\"\r\n              style={{ display: \"none\" }}\r\n              accept=\".jpg,.jpeg,.png\"\r\n              onChange={(e) => setFile(e.target.files[0])}\r\n            />\r\n            <AddImage className=\"registerIconAdd\" />\r\n          </label>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}