{"ast":null,"code":"import _regeneratorRuntime from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import\"./tagUser.css\";import{Avatar}from'@mui/material';import{useEffect}from'react';import{Link}from'react-router-dom';import Topbar from\"../topbar/Topbar\";import{AuthContext}from'../../context/AuthContext';import{axiosInstance}from'../../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TagUser=function TagUser(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allusers=_useState4[0],setAllusers=_useState4[1];var _useContext=useContext(AuthContext),currentUser=_useContext.user;useEffect(function(){var getAll=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axiosInstance.get(\"/users/all\");case 2:res=_context.sent;setAllusers(res.data.filter(function(r){return r._id!==currentUser._id;}));case 4:case\"end\":return _context.stop();}}},_callee);}));return function getAll(){return _ref.apply(this,arguments);};}();getAll();},[search]);var handleChange=function handleChange(e){e.preventDefault();var res=allusers.filter(function(user){return user.username===search;});setAllusers(res);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Topbar,{}),/*#__PURE__*/_jsxs(\"div\",{classNameName:\"tagUser\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Search Users\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"searchUserBody\",onSubmit:handleChange,children:[/*#__PURE__*/_jsx(\"input\",{className:\"searchuser\",value:search,onChange:function onChange(e){return setSearch(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"search\"})]}),/*#__PURE__*/_jsx(\"div\",{children:allusers===null||allusers===void 0?void 0:allusers.map(function(all){return/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(all._id),style:{linkStyle:\"none\",textDecoration:\"none\"},children:[\"  \",/*#__PURE__*/_jsxs(\"div\",{className:\"tagUserEdit\",children:[/*#__PURE__*/_jsx(Avatar,{alt:all.username,src:all.profilePicture?all.profilePicture:\"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\"}),/*#__PURE__*/_jsx(\"a\",{className:\"linksTag\",children:all.username})]})]});})})]})]});};export default TagUser;","map":{"version":3,"names":["React","useContext","useState","Avatar","useEffect","Link","Topbar","AuthContext","axiosInstance","TagUser","search","setSearch","allusers","setAllusers","currentUser","user","getAll","get","res","data","filter","r","_id","handleChange","e","preventDefault","username","target","value","map","all","linkStyle","textDecoration","profilePicture"],"sources":["D:/js/socialsite/SOCIALBOOK/connect/react-social/src/components/tagUser/TagUser.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport \"./tagUser.css\"\r\nimport { Avatar } from '@mui/material';\r\nimport { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Topbar from \"../topbar/Topbar\"\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { axiosInstance } from '../../config';\r\nconst TagUser = () => {\r\n\r\n    const [search, setSearch] = useState(\"\");\r\n    const [allusers, setAllusers] = useState([])\r\n    const { user: currentUser } = useContext(AuthContext);\r\n\r\n\r\n    useEffect(() => {\r\n        const getAll = async () => {\r\n            const res = await axiosInstance.get(\"/users/all\");\r\n            setAllusers(res.data.filter((r) => r._id !== currentUser._id));\r\n        }; getAll();\r\n    }, [search])\r\n\r\n    const handleChange = (e) => {\r\n        e.preventDefault();\r\n        const res = allusers.filter((user) => user.username === search);\r\n        setAllusers(res);\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Topbar />\r\n            <div classNameName='tagUser'>\r\n                <h1>Search Users</h1>\r\n                <form className='searchUserBody' onSubmit={handleChange}>\r\n                    <input className='searchuser' value={search} onChange={(e) => setSearch(e.target.value)} />\r\n                    <button type=\"submit\" >search</button>\r\n                </form>\r\n                <div >\r\n                    {allusers?.map((all) => (\r\n                        <Link to={`/profile/${all._id}`} style={{ linkStyle: \"none\", textDecoration: \"none\" }}>  <div className='tagUserEdit'>\r\n                            <Avatar alt={all.username} src={all.profilePicture ? all.profilePicture : \"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\"} />\r\n                            <a className=\"linksTag\">{all.username}</a>\r\n\r\n                        </div>\r\n                        </Link>\r\n\r\n                    ))}\r\n                </div>\r\n\r\n            </div >\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TagUser;"],"mappings":"kfAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAO,eAAP,CACA,OAASC,MAAT,KAAuB,eAAvB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,OAASC,aAAT,KAA8B,cAA9B,C,6IACA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAElB,cAA4BP,QAAQ,CAAC,EAAD,CAApC,wCAAOQ,MAAP,eAAeC,SAAf,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,gBAA8BZ,UAAU,CAACM,WAAD,CAAxC,CAAcO,WAAd,aAAQC,IAAR,CAGAX,SAAS,CAAC,UAAM,CACZ,GAAMY,OAAM,0FAAG,iKACOR,cAAa,CAACS,GAAd,CAAkB,YAAlB,CADP,QACLC,GADK,eAEXL,WAAW,CAACK,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAgB,SAACC,CAAD,QAAOA,EAAC,CAACC,GAAF,GAAUR,WAAW,CAACQ,GAA7B,EAAhB,CAAD,CAAX,CAFW,sDAAH,kBAANN,OAAM,0CAAZ,CAGGA,MAAM,GACZ,CALQ,CAKN,CAACN,MAAD,CALM,CAAT,CAOA,GAAMa,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACA,GAAMP,IAAG,CAAGN,QAAQ,CAACQ,MAAT,CAAgB,SAACL,IAAD,QAAUA,KAAI,CAACW,QAAL,GAAkBhB,MAA5B,EAAhB,CAAZ,CACAG,WAAW,CAACK,GAAD,CAAX,CACH,CAJD,CAOA,mBACI,wCACI,KAAC,MAAD,IADJ,cAEI,aAAK,aAAa,CAAC,SAAnB,wBACI,oCADJ,cAEI,cAAM,SAAS,CAAC,gBAAhB,CAAiC,QAAQ,CAAEK,YAA3C,wBACI,cAAO,SAAS,CAAC,YAAjB,CAA8B,KAAK,CAAEb,MAArC,CAA6C,QAAQ,CAAE,kBAACc,CAAD,QAAOb,UAAS,CAACa,CAAC,CAACG,MAAF,CAASC,KAAV,CAAhB,EAAvD,EADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,oBAFJ,GAFJ,cAMI,qBACKhB,QADL,SACKA,QADL,iBACKA,QAAQ,CAAEiB,GAAV,CAAc,SAACC,GAAD,qBACX,MAAC,IAAD,EAAM,EAAE,oBAAcA,GAAG,CAACR,GAAlB,CAAR,CAAiC,KAAK,CAAE,CAAES,SAAS,CAAE,MAAb,CAAqBC,cAAc,CAAE,MAArC,CAAxC,6BAAyF,aAAK,SAAS,CAAC,aAAf,wBACrF,KAAC,MAAD,EAAQ,GAAG,CAAEF,GAAG,CAACJ,QAAjB,CAA2B,GAAG,CAAEI,GAAG,CAACG,cAAJ,CAAqBH,GAAG,CAACG,cAAzB,CAA0C,yEAA1E,EADqF,cAErF,UAAG,SAAS,CAAC,UAAb,UAAyBH,GAAG,CAACJ,QAA7B,EAFqF,GAAzF,GADW,EAAd,CADL,EANJ,GAFJ,GADJ,CAwBH,CA7CD,CA+CA,cAAejB,QAAf"},"metadata":{},"sourceType":"module"}