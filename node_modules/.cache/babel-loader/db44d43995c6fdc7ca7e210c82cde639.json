{"ast":null,"code":"import _regeneratorRuntime from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./profile.css\";import Topbar from\"../../components/topbar/Topbar\";import Leftbar from\"../../components/leftbar/Leftbar\";import Feed from\"../../components/feed/Feed\";import Rightbar from\"../../components/rightbar/Rightbar\";import{useContext,useEffect,useState}from\"react\";import axios from\"axios\";import{Link,useLocation}from\"react-router-dom\";import{AuthContext}from\"../../context/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Profile(){var PF=process.env.REACT_APP_PUBLIC_FOLDER;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var location=useLocation();var id=location.pathname.split(\"/\")[2];var _useContext=useContext(AuthContext),currentUser=_useContext.user;useEffect(function(){var fetchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/users?userId=\".concat(id));case 2:res=_context.sent;setUser(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchUser(){return _ref.apply(this,arguments);};}();fetchUser();},[id]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Topbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(Leftbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileRight\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profileRightTop\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profileCover\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profileCoverImg\",src:user.coverPicture?PF+user.coverPicture:PF+\"search.png\",alt:\"\"}),user._id===currentUser._id?/*#__PURE__*/_jsx(Link,{to:\"/updateProfile/\"+user._id,children:/*#__PURE__*/_jsx(\"img\",{className:\"profileUserImg\",src:user.profilePicture?PF+user.profilePicture:PF+\"noprofile.pg\",alt:\"\"})}):/*#__PURE__*/_jsx(\"img\",{className:\"profileUserImg\",src:user.profilePicture?PF+user.profilePicture:PF+\"noprofile.pg\",alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileInfo\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"profileInfoName\",children:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"profileInfoDesc\",children:user.desc})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileRightBottom\",children:[/*#__PURE__*/_jsx(Feed,{username:user.username}),/*#__PURE__*/_jsx(Rightbar,{user:user})]})]})]})]});}","map":{"version":3,"sources":["D:/js/socialsite/SOCIALBOOK/connect/react-social/src/pages/profile/Profile.jsx"],"names":["Topbar","Leftbar","Feed","Rightbar","useContext","useEffect","useState","axios","Link","useLocation","AuthContext","Profile","PF","process","env","REACT_APP_PUBLIC_FOLDER","user","setUser","location","id","pathname","split","currentUser","fetchUser","get","res","data","coverPicture","_id","profilePicture","username","desc"],"mappings":"kfAAA,MAAO,eAAP,CACA,MAAOA,CAAAA,MAAP,KAAmB,gCAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,4BAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,oCAArB,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,OAASC,WAAT,KAA4B,2BAA5B,C,6IAEA,cAAe,SAASC,CAAAA,OAAT,EAAmB,CAChC,GAAMC,CAAAA,EAAE,CAAGC,OAAO,CAACC,GAAR,CAAYC,uBAAvB,CACA,cAAwBT,QAAQ,CAAC,EAAD,CAAhC,wCAAOU,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,EAAE,CAAGD,QAAQ,CAACE,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAX,CACA,gBAA8BjB,UAAU,CAACM,WAAD,CAAxC,CAAcY,WAAd,aAAQN,IAAR,CAGAX,SAAS,CAAC,UAAM,CACd,GAAMkB,CAAAA,SAAS,0FAAG,iKACEhB,CAAAA,KAAK,CAACiB,GAAN,yBAA2BL,EAA3B,EADF,QACVM,GADU,eAEhBR,OAAO,CAACQ,GAAG,CAACC,IAAL,CAAP,CAFgB,sDAAH,kBAATH,CAAAA,SAAS,0CAAf,CAIAA,SAAS,GACV,CANQ,CAMN,CAACJ,EAAD,CANM,CAAT,CASA,mBACE,wCACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,SAAf,wBACE,KAAC,OAAD,IADF,cAEE,aAAK,SAAS,CAAC,cAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,YACE,SAAS,CAAC,iBADZ,CAEE,GAAG,CACDH,IAAI,CAACW,YAAL,CAAoBf,EAAE,CAAGI,IAAI,CAACW,YAA9B,CAA6Cf,EAAE,CAAG,YAHtD,CAKE,GAAG,CAAC,EALN,EADF,CAOMI,IAAI,CAACY,GAAL,GAAaN,WAAW,CAACM,GAA1B,cACD,KAAC,IAAD,EAAM,EAAE,CAAE,kBAAoBZ,IAAI,CAACY,GAAnC,uBACE,YACE,SAAS,CAAC,gBADZ,CAEE,GAAG,CACDZ,IAAI,CAACa,cAAL,CACIjB,EAAE,CAAGI,IAAI,CAACa,cADd,CAEIjB,EAAE,CAAG,cALb,CAOE,GAAG,CAAC,EAPN,EADF,EADC,cAaD,YACE,SAAS,CAAC,gBADZ,CAEE,GAAG,CACDI,IAAI,CAACa,cAAL,CACIjB,EAAE,CAAGI,IAAI,CAACa,cADd,CAEIjB,EAAE,CAAG,cALb,CAOE,GAAG,CAAC,EAPN,EApBJ,GADF,cAgCE,aAAK,SAAS,CAAC,aAAf,wBACE,WAAI,SAAS,CAAC,iBAAd,UAAiCI,IAAI,CAACc,QAAtC,EADF,cAEE,aAAM,SAAS,CAAC,iBAAhB,UAAmCd,IAAI,CAACe,IAAxC,EAFF,GAhCF,GADF,cAsCE,aAAK,SAAS,CAAC,oBAAf,wBACE,KAAC,IAAD,EAAM,QAAQ,CAAEf,IAAI,CAACc,QAArB,EADF,cAEE,KAAC,QAAD,EAAU,IAAI,CAAEd,IAAhB,EAFF,GAtCF,GAFF,GAFF,GADF,CAmDD","sourcesContent":["import \"./profile.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Leftbar from \"../../components/leftbar/Leftbar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Profile() {\r\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [user, setUser] = useState({});\r\n  const location = useLocation();\r\n  const id = location.pathname.split(\"/\")[2];\r\n  const { user: currentUser } = useContext(AuthContext);\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axios.get(`/users?userId=${id}`);\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [id]);\r\n\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"profile\">\r\n        <Leftbar />\r\n        <div className=\"profileRight\">\r\n          <div className=\"profileRightTop\">\r\n            <div className=\"profileCover\">\r\n              <img\r\n                className=\"profileCoverImg\"\r\n                src={\r\n                  user.coverPicture ? PF + user.coverPicture : PF + \"search.png\"\r\n                }\r\n                alt=\"\"\r\n              />{(user._id === currentUser._id) ? (\r\n                <Link to={`/updateProfile/` + user._id}>\r\n                  <img\r\n                    className=\"profileUserImg\"\r\n                    src={\r\n                      user.profilePicture\r\n                        ? PF + user.profilePicture\r\n                        : PF + \"noprofile.pg\"\r\n                    }\r\n                    alt=\"\"\r\n                  />\r\n                </Link>\r\n              ) : (\r\n                <img\r\n                  className=\"profileUserImg\"\r\n                  src={\r\n                    user.profilePicture\r\n                      ? PF + user.profilePicture\r\n                      : PF + \"noprofile.pg\"\r\n                  }\r\n                  alt=\"\"\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"profileInfo\">\r\n              <h4 className=\"profileInfoName\">{user.username}</h4>\r\n              <span className=\"profileInfoDesc\">{user.desc}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"profileRightBottom\">\r\n            <Feed username={user.username} />\r\n            <Rightbar user={user} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}