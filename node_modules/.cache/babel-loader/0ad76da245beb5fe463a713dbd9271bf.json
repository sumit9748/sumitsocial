{"ast":null,"code":"import _regeneratorRuntime from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/js/socialsite/SOCIALBOOK/connect/react-social/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./profile.css\";import Topbar from\"../../components/topbar/Topbar\";import Leftbar from\"../../components/leftbar/Leftbar\";import Feed from\"../../components/feed/Feed\";import Rightbar from\"../../components/rightbar/Rightbar\";import{useContext,useEffect,useState}from\"react\";import{Link,useLocation}from\"react-router-dom\";import{AuthContext}from\"../../context/AuthContext\";import{axiosInstance}from\"../../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Profile(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var location=useLocation();var id=location.pathname.split(\"/\")[2];var _useContext=useContext(AuthContext),currentUser=_useContext.user;useEffect(function(){var fetchUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axiosInstance.get(\"/users?userId=\".concat(id));case 2:res=_context.sent;setUser(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchUser(){return _ref.apply(this,arguments);};}();fetchUser();},[id]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Topbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(Leftbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileRight\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profileRightTop\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profileCover\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profileCoverImg\",src:user.coverPicture?user.coverPicture:\"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\",alt:\"\"}),user._id===currentUser._id?/*#__PURE__*/_jsx(Link,{to:\"/updateProfile/\"+user._id,children:/*#__PURE__*/_jsx(\"img\",{className:\"profileUserImg\",src:user.profilePicture?user.profilePicture:\"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\",alt:\"\"})}):/*#__PURE__*/_jsx(\"img\",{className:\"profileUserImg\",src:user.profilePicture?user.profilePicture:\"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\",alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileInfo\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"profileInfoName\",children:user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"profileInfoDesc\",children:user.desc})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profileRightBottom\",children:[/*#__PURE__*/_jsx(Feed,{username:user.username}),/*#__PURE__*/_jsx(Rightbar,{user:user})]})]})]})]});}","map":{"version":3,"names":["Topbar","Leftbar","Feed","Rightbar","useContext","useEffect","useState","Link","useLocation","AuthContext","axiosInstance","Profile","user","setUser","location","id","pathname","split","currentUser","fetchUser","get","res","data","coverPicture","_id","profilePicture","username","desc"],"sources":["D:/js/socialsite/SOCIALBOOK/connect/react-social/src/pages/profile/Profile.jsx"],"sourcesContent":["import \"./profile.css\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Leftbar from \"../../components/leftbar/Leftbar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { axiosInstance } from \"../../config\";\r\n\r\nexport default function Profile() {\r\n  const [user, setUser] = useState({});\r\n  const location = useLocation();\r\n  const id = location.pathname.split(\"/\")[2];\r\n  const { user: currentUser } = useContext(AuthContext);\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await axiosInstance.get(`/users?userId=${id}`);\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [id]);\r\n\r\n\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className=\"profile\">\r\n        <Leftbar />\r\n        <div className=\"profileRight\">\r\n          <div className=\"profileRightTop\">\r\n            <div className=\"profileCover\">\r\n              <img\r\n                className=\"profileCoverImg\"\r\n                src={\r\n                  user.coverPicture ? user.coverPicture : \"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\"\r\n                }\r\n                alt=\"\"\r\n              />{(user._id === currentUser._id) ? (\r\n                <Link to={`/updateProfile/` + user._id}>\r\n                  <img\r\n                    className=\"profileUserImg\"\r\n                    src={\r\n                      user.profilePicture\r\n                        ? user.profilePicture\r\n                        : \"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\"\r\n                    }\r\n                    alt=\"\"\r\n                  />\r\n                </Link>\r\n              ) : (\r\n                <img\r\n                  className=\"profileUserImg\"\r\n                  src={\r\n                    user.profilePicture\r\n                      ? user.profilePicture\r\n                      : \"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg\"\r\n                  }\r\n                  alt=\"\"\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"profileInfo\">\r\n              <h4 className=\"profileInfoName\">{user.username}</h4>\r\n              <span className=\"profileInfoDesc\">{user.desc}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"profileRightBottom\">\r\n            <Feed username={user.username} />\r\n            <Rightbar user={user} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"kfAAA,MAAO,eAAP,CACA,MAAOA,OAAP,KAAmB,gCAAnB,CACA,MAAOC,QAAP,KAAoB,kCAApB,CACA,MAAOC,KAAP,KAAiB,4BAAjB,CACA,MAAOC,SAAP,KAAqB,oCAArB,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,OAASC,aAAT,KAA8B,cAA9B,C,6IAEA,cAAe,SAASC,QAAT,EAAmB,CAChC,cAAwBL,QAAQ,CAAC,EAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eACA,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,GAAE,CAAGD,QAAQ,CAACE,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAX,CACA,gBAA8Bb,UAAU,CAACK,WAAD,CAAxC,CAAcS,WAAd,aAAQN,IAAR,CAGAP,SAAS,CAAC,UAAM,CACd,GAAMc,UAAS,0FAAG,iKACET,cAAa,CAACU,GAAd,yBAAmCL,EAAnC,EADF,QACVM,GADU,eAEhBR,OAAO,CAACQ,GAAG,CAACC,IAAL,CAAP,CAFgB,sDAAH,kBAATH,UAAS,0CAAf,CAIAA,SAAS,GACV,CANQ,CAMN,CAACJ,EAAD,CANM,CAAT,CASA,mBACE,wCACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,SAAf,wBACE,KAAC,OAAD,IADF,cAEE,aAAK,SAAS,CAAC,cAAf,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,YACE,SAAS,CAAC,iBADZ,CAEE,GAAG,CACDH,IAAI,CAACW,YAAL,CAAoBX,IAAI,CAACW,YAAzB,CAAwC,yEAH5C,CAKE,GAAG,CAAC,EALN,EADF,CAOMX,IAAI,CAACY,GAAL,GAAaN,WAAW,CAACM,GAA1B,cACD,KAAC,IAAD,EAAM,EAAE,CAAE,kBAAoBZ,IAAI,CAACY,GAAnC,uBACE,YACE,SAAS,CAAC,gBADZ,CAEE,GAAG,CACDZ,IAAI,CAACa,cAAL,CACIb,IAAI,CAACa,cADT,CAEI,yEALR,CAOE,GAAG,CAAC,EAPN,EADF,EADC,cAaD,YACE,SAAS,CAAC,gBADZ,CAEE,GAAG,CACDb,IAAI,CAACa,cAAL,CACIb,IAAI,CAACa,cADT,CAEI,yEALR,CAOE,GAAG,CAAC,EAPN,EApBJ,GADF,cAgCE,aAAK,SAAS,CAAC,aAAf,wBACE,WAAI,SAAS,CAAC,iBAAd,UAAiCb,IAAI,CAACc,QAAtC,EADF,cAEE,aAAM,SAAS,CAAC,iBAAhB,UAAmCd,IAAI,CAACe,IAAxC,EAFF,GAhCF,GADF,cAsCE,aAAK,SAAS,CAAC,oBAAf,wBACE,KAAC,IAAD,EAAM,QAAQ,CAAEf,IAAI,CAACc,QAArB,EADF,cAEE,KAAC,QAAD,EAAU,IAAI,CAAEd,IAAhB,EAFF,GAtCF,GAFF,GAFF,GADF,CAmDD"},"metadata":{},"sourceType":"module"}