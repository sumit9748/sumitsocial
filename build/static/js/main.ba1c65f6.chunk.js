(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[0],{140:function(e,t,s){},146:function(e,t,s){},147:function(e,t,s){},149:function(e,t,s){},168:function(e,t,s){},169:function(e,t,s){},170:function(e,t,s){},171:function(e,t,s){},172:function(e,t,s){},173:function(e,t,s){},174:function(e,t,s){},175:function(e,t,s){},176:function(e,t,s){},177:function(e,t,s){},178:function(e,t,s){},179:function(e,t,s){},180:function(e,t,s){},181:function(e,t,s){},182:function(e,t,s){},187:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),n=s(47),r=s.n(n),i=s(4),o=s(20),l=(s(140),s(102)),u=s.n(l),j=s(68),d=s.n(j),b=s(103),p=s.n(b),h=s(104),m=s.n(h),O=s(98),x=s.n(O),f=s(21),v=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"FOLLOW":return Object(f.a)(Object(f.a)({},e),{},{user:Object(f.a)(Object(f.a)({},e.user),{},{followings:[].concat(Object(o.a)(e.user.followings),[t.payload])})});case"UNFOLLOW":return Object(f.a)(Object(f.a)({},e),{},{user:Object(f.a)(Object(f.a)({},e.user),{},{followings:e.user.followings.filter((function(e){return e!==t.payload}))})});case"UPDATE_USER":return Object(f.a)(Object(f.a)({},e),{},{user:Object(f.a)(Object(f.a)({},e.user),t.payload)});default:return e}},g=s(0),N={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},I=Object(c.createContext)(N),k=function(e){var t=e.children,s=Object(c.useReducer)(v,N),a=Object(i.a)(s,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){localStorage.setItem("user",JSON.stringify(n.user))}),[n.user,n.message]),Object(g.jsx)(I.Provider,{value:{user:n.user,isFetching:n.isFetching,error:n.error,dispatch:r},children:t})},w=s(12),y=s(17);function C(e){var t=e.text,s=e.setText,a=e.socket,n=Object(c.useContext)(I).user,r=Object(c.useState)([]),l=Object(i.a)(r,2),j=l[0],b=l[1],h=Object(c.useState)(!1),O=Object(i.a)(h,2),f=O[0],v=O[1],N=Object(w.g)();Object(c.useEffect)((function(){var e;null===a||void 0===a||null===(e=a.current)||void 0===e||e.on("getNotification",(function(e){b((function(t){return[].concat(Object(o.a)(t),[e])}))}))}),[a]);var k="https://socialbooksumit.herokuapp.com/public/images/";return Object(g.jsxs)("div",{className:"topbar-container",children:[Object(g.jsx)("div",{className:"topbarLeft",children:Object(g.jsx)(y.b,{to:"/",style:{textDecoration:"none"},children:Object(g.jsx)("span",{className:"logo",children:"SocialBook"})})}),Object(g.jsx)("div",{className:"topbarCenter",children:Object(g.jsxs)("div",{className:"searchbar",children:[Object(g.jsx)(x.a,{className:"searchIcon"}),Object(g.jsx)("input",{placeholder:"search for posts",value:t,className:"searchInput",onChange:function(e){return s(e.target.value)}})]})}),Object(g.jsxs)("div",{className:"topbarRight",children:[Object(g.jsxs)("div",{className:"topbarLinks",children:[Object(g.jsx)(y.b,{to:"/",style:{linkStyle:"none",textDecoration:"none",color:"white"},children:Object(g.jsx)("span",{className:"topbarLink",children:"Home"})}),Object(g.jsx)(y.b,{to:"/searchUser",children:Object(g.jsx)("span",{className:"topbarLink",children:"TimeLine"})})]}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsx)(y.b,{to:"/searchUser",children:Object(g.jsxs)("div",{className:"topbarIconItem",children:[Object(g.jsx)(u.a,{}),Object(g.jsx)("span",{className:"topbarIconBadge",children:"1"})]})})}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsxs)("div",{className:"topbarIconItem",children:[Object(g.jsx)(y.b,{style:{linkStyle:"none",textDecoration:"none",color:"white"},to:"/messenger/".concat(n._id),children:Object(g.jsx)(d.a,{className:"chatIcon"})}),Object(g.jsx)("span",{className:"topbarIconBadge",children:"1"})]})}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsxs)("div",{className:"topbarIconItem",children:[Object(g.jsx)(p.a,{onClick:function(){return v(!f)}}),j.length>0&&Object(g.jsx)("span",{className:"topbarIconBadge",children:j.length}),f&&Object(g.jsxs)("div",{className:"notifications",children:[j.map((function(e){return function(e){var t,s=e.senderName,c=e.type;return t=1===c?"liked":2===c?"loved":"shared",Object(g.jsx)("span",{className:"notification",children:"".concat(s," ").concat(t," your post.")})}(e)})),Object(g.jsx)("button",{className:"nButton",onClick:function(){b([]),v(!1)},children:"Mark as read"})]})]})}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsx)("div",{className:"topbarIconItem",children:Object(g.jsx)(m.a,{onClick:function(e){e.preventDefault(),localStorage.clear(),N.push("/login"),window.location.reload()}})})}),Object(g.jsx)(y.b,{to:"/profile/".concat(n._id),children:Object(g.jsx)("img",{src:n.profilePicture?k+n.profilePicture:k+"search.png",alt:"",className:"topbarImg"})})]})]})}s(146);var S=s(105),L=s.n(S),U=s(106),_=s.n(U),P=s(107),T=s.n(P),F=s(108),R=s.n(F),B=s(109),E=s.n(B),D=s(110),A=s.n(D),W=s(111),V=s.n(W),M=s(112),q=s.n(M),G=[{id:1,profilePicture:"sumit.jpg",username:"Sumit Mondal"},{id:2,profilePicture:"soumita.jpg",username:"Soumita Mondal"},{id:3,profilePicture:"bag.jpg",username:"Subhadip Bag"},{id:4,profilePicture:"suvo.jpg",username:"Subhajit Bhukta"},{id:5,profilePicture:"palash.jpg",username:"Palash Majhi"},{id:6,profilePicture:"pokai.jpg",username:"Sumit Dhara"},{id:7,profilePicture:"langta.jpg",username:"Soumalya Bhakta"}];s(147);function K(e){var t=e.user;return Object(g.jsxs)("li",{className:"sidebarFriend",children:[Object(g.jsx)("img",{src:"https://socialbooksumit.herokuapp.com/public/images/"+t.profilePicture,alt:"",className:"sidebarFriendImg"}),Object(g.jsx)("span",{className:"sidebarFriendName",children:t.username})]})}function H(){var e=function(e){"courses"!==e?window.open("https://www.youtube.com/results?search_query=".concat(e),"_blank"):window.open("https://www.youtube.com/c/AdityaVermaTheProgrammingLord/playlists","_blank")};return Object(g.jsx)("div",{className:"leftbar",children:Object(g.jsxs)("div",{className:"sidebarWrapper",children:[Object(g.jsxs)("ul",{className:"sidebarList",children:[Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("stack")},children:[Object(g.jsx)(L.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Stack"})]}),Object(g.jsx)(y.b,{to:"/messenger",children:Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("queue")},children:[Object(g.jsx)(d.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Queue"})]})}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("videos")},children:[Object(g.jsx)(_.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Videos"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("array")},children:[Object(g.jsx)(T.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Array"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("linkedlist")},children:[Object(g.jsx)(R.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"LinkedList"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("binarysearch")},children:[Object(g.jsx)(E.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"BinarySearch"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("tree")},children:[Object(g.jsx)(A.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Tree"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("heap")},children:[Object(g.jsx)(V.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Heap"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("courses")},children:[Object(g.jsx)(q.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Courses"})]})]}),Object(g.jsx)("button",{className:"sidebarButton",children:"Show More"}),Object(g.jsx)("hr",{className:"sidebarHr"}),Object(g.jsx)("ul",{className:"sidebarFriendList",children:G.map((function(e){return Object(g.jsx)(K,{user:e},e.id)}))})]})})}var J=s(6),z=s.n(J),Q=s(8),Y=(s(149),s(113)),X=s.n(Y).a.create({baseURL:"https://socialbooksumit.herokuapp.com/connect/"});s(168);function Z(e){var t=e.onlineUsers,s=e.currentId,a=e.setCurrentChat,n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],l=r[1],u=Object(c.useState)([]),j=Object(i.a)(u,2),d=j[0],b=j[1],p="https://socialbooksumit.herokuapp.com/public/images/";Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/users/friends/"+s);case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]),Object(c.useEffect)((function(){b(o.filter((function(e){return t.includes(e._id)})))}),[o,t]),console.log(d);var h=function(){var e=Object(Q.a)(z.a.mark((function e(t){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.get("/conversations/find/".concat(s,"/").concat(t._id));case 3:if(c=e.sent,console.log(c.data),null!==c.data){e.next=11;break}return e.next=8,X.post("/conversations/",{senderId:s,receiverId:t._id});case 8:a(c.data),e.next=12;break;case 11:a(c.data);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"chatOnline",children:d.map((function(e){return Object(g.jsxs)("div",{className:"chatOnlineFriend",onClick:function(){return h(e)},children:[Object(g.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(g.jsx)("img",{className:"chatOnlineImg",src:(null===e||void 0===e?void 0:e.profilePicture)?p+e.profilePicture:p+"person/noAvatar.png",alt:""}),Object(g.jsx)("div",{className:"chatOnlineBadge"})]}),Object(g.jsx)("span",{className:"chatOnlineName",children:null===e||void 0===e?void 0:e.username})]})}))})}var $=s(115),ee=s.n($),te=s(114),se=s.n(te);function ce(e){var t=e.user,s=e.socket,a="https://socialbooksumit.herokuapp.com/public/images/",n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],l=r[1],u=Object(c.useContext)(I),j=u.user,d=u.dispatch,b=Object(c.useState)(null===j||void 0===j?void 0:j.followings.includes(null===t||void 0===t?void 0:t._id)),p=Object(i.a)(b,2),h=p[0],m=p[1];console.log(h);var O=Object(c.useState)([]),x=Object(i.a)(O,2),f=x[0],v=x[1];Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.get("/users/friends/"+t._id);case 3:s=e.sent,l(s.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(c.useEffect)((function(){var e,t;null===s||void 0===s||null===(e=s.current)||void 0===e||e.emit("addUser",j._id),null===s||void 0===s||null===(t=s.current)||void 0===t||t.on("getUsers",(function(e){v(j.followings.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[j]),console.log(f);var N=function(){var e=Object(Q.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h){e.next=7;break}return e.next=4,X.put("/users/unfollow/".concat(t._id),{userId:j._id});case 4:d({type:"UNFOLLOW",payload:t._id}),e.next=10;break;case 7:return e.next=9,X.put("/users/follow/".concat(t._id),{userId:j._id});case 9:d({type:"FOLLOW",payload:t._id});case 10:m(!h),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),k=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"birthdayContainer",children:[Object(g.jsx)("img",{className:"birthdayImg",src:"assets/birthday.png",alt:""}),Object(g.jsxs)("span",{className:"birthdayText",children:[Object(g.jsx)("b",{children:"Soumita Ganguly"})," and ",Object(g.jsx)("b",{children:"3 other friends"})," have a birhday today."]})]}),Object(g.jsx)("img",{className:"rightbarAd",src:"assets/shortcut-1.png",alt:""}),Object(g.jsx)("h4",{className:"rightbarTitle",children:"Online Friends"}),Object(g.jsx)("ul",{className:"rightbarFriendList",children:Object(g.jsx)(Z,{onlineUsers:f,currentId:j._id})})]})},w=function(){return Object(g.jsxs)(g.Fragment,{children:[t.username!==j.username&&Object(g.jsxs)("button",{className:"rightbarFollowButton",onClick:N,children:[h?"Unfollow":"Follow",h?Object(g.jsx)(se.a,{}):Object(g.jsx)(ee.a,{})]}),Object(g.jsx)("h4",{className:"rightbarTitle",children:"User information"}),Object(g.jsxs)("div",{className:"rightbarInfo",children:[Object(g.jsxs)("div",{className:"rightbarInfoItem",children:[Object(g.jsx)("span",{className:"rightbarInfoKey",children:"City:"}),Object(g.jsx)("span",{className:"rightbarInfoValue",children:t.city})]}),Object(g.jsxs)("div",{className:"rightbarInfoItem",children:[Object(g.jsx)("span",{className:"rightbarInfoKey",children:"From:"}),Object(g.jsx)("span",{className:"rightbarInfoValue",children:t.from})]}),Object(g.jsxs)("div",{className:"rightbarInfoItem",children:[Object(g.jsx)("span",{className:"rightbarInfoKey",children:"Relationship:"}),Object(g.jsx)("span",{className:"rightbarInfoValue",children:1===t.relationship?"Single":1===t.relationship?"Married":"-"})]})]}),Object(g.jsx)("h4",{className:"rightbarTitle",children:"User friends"}),Object(g.jsx)("div",{className:"rightbarFollowings",children:o.map((function(e){return Object(g.jsx)(y.b,{to:"/profile/"+e._id,style:{textDecoration:"none"},children:Object(g.jsxs)("div",{className:"rightbarFollowing",children:[Object(g.jsx)("img",{src:e.profilePicture?a+e.profilePicture:a+"search.png",alt:"",className:"rightbarFollowingImg"}),Object(g.jsx)("span",{className:"rightbarFollowingName",children:e.username})]})})}))})]})};return Object(g.jsx)("div",{className:"rightbar",children:Object(g.jsx)("div",{className:"rightbarWrapper",children:t?Object(g.jsx)(w,{}):Object(g.jsx)(k,{})})})}s(169);var ae=s(116),ne=s.n(ae),re=s(70),ie=s(216),oe=s(213),le=s(214),ue=s(52),je=s.n(ue),de={position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3};function be(e){var t=e.post,s=e.deletePost,n=e.socket,r=Object(c.useState)(t.likes.length),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(c.useState)(!1),d=Object(i.a)(j,2),b=d[0],p=d[1],h=Object(c.useState)({}),m=Object(i.a)(h,2),O=m[0],x=m[1],v="https://socialbooksumit.herokuapp.com/public/images/",N=Object(c.useContext)(I).user;Object(c.useEffect)((function(){p(t.likes.includes(N._id))}),[N._id,t.likes]),Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/users?userId=".concat(t.userId));case 2:s=e.sent,x(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.userId]);var k=function(){var e=Object(Q.a)(z.a.mark((function e(s){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===s){try{X.put("/posts/"+t._id+"/like",{userId:N._id})}catch(a){}p(!b),u(b?l-1:l+1)}null===n||void 0===n||null===(c=n.current)||void 0===c||c.emit("sendNotification",{senderName:N.username,receiverId:t.userId,type:s||1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var w=Object(c.useState)(!1),C=Object(i.a)(w,2),S=C[0],L=C[1],U=function(){L(!1)};return Object(g.jsx)("div",{className:"post",children:Object(g.jsxs)("div",{className:"postWrapper",children:[Object(g.jsxs)("div",{className:"postTop",children:[Object(g.jsxs)("div",{className:"postTopLeft",children:[Object(g.jsx)(y.b,{to:"Profile/".concat(O.username),children:Object(g.jsx)("img",{className:"postProfileImg",src:O.profilePicture?v+O.profilePicture:v+"search.png",alt:""})}),Object(g.jsx)("span",{className:"postUserName",children:O.username}),Object(g.jsx)("span",{className:"postDate",children:Object(re.a)(t.createdAt)})]}),Object(g.jsxs)("div",{className:"postTopRight",children:[Object(g.jsx)(a.a.Fragment,{children:Object(g.jsx)(oe.a,{hideBackdrop:!0,open:S,onClose:U,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:Object(g.jsxs)(ie.a,{sx:Object(f.a)(Object(f.a)({},de),{},{width:400}),children:[Object(g.jsx)("h2",{id:"child-modal-title",children:"Do you want to delete this post?"}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(g.jsx)(le.a,{variant:"outlined",onClick:function(){return function(){try{X.put("/posts/update/".concat(t._id),{userId:N._id})}catch(e){console.log(e)}s()}()},children:"Yes"}),Object(g.jsx)(le.a,{variant:"outlined",onClick:U,children:"No"})]}),Object(g.jsx)(je.a,{style:{position:"absolute",top:"0%",right:"0%"},onClick:U})]})})}),Object(g.jsx)(ne.a,{onClick:function(){L(!0)},className:"moreVert"})]})]}),Object(g.jsxs)("div",{className:"postCenter",children:[Object(g.jsx)("span",{className:"postText",children:null===t||void 0===t?void 0:t.desc}),Object(g.jsx)("img",{className:"postImg",src:v+t.img,alt:""})]}),Object(g.jsxs)("div",{className:"postBottom",children:[Object(g.jsxs)("div",{className:"postBottomLeft",children:[Object(g.jsx)("img",{className:"likeIcon",src:"".concat(v,"like.png"),onClick:function(){return k("1")},alt:""}),Object(g.jsx)("img",{className:"heartIcon",src:"".concat(v,"heart.png"),onClick:function(){return k("2")},alt:""}),Object(g.jsxs)("span",{className:"likeCounter",children:[l," people liked it"]})]}),Object(g.jsx)("div",{className:"postBottomRight",children:Object(g.jsxs)("span",{className:"postCommentText",onClick:function(){return k("3")},children:[t.comment," comments"]})})]})]})})}s(170);var pe=s(117),he=s.n(pe),me=s(118),Oe=s.n(me),xe=s(119),fe=s.n(xe),ve=s(120),ge=s.n(ve),Ne=(s(171),{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3}),Ie=function(e){var t=e.file,s=e.setFile,c=a.a.useState(!1),n=Object(i.a)(c,2),r=n[0],o=n[1];return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)(le.a,{onClick:function(){o(!0)},children:"View"}),Object(g.jsx)(oe.a,{open:r,onClose:function(){o(!1)},"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(g.jsx)(ie.a,{sx:Object(f.a)(Object(f.a)({},Ne),{},{width:400}),children:Object(g.jsxs)("div",{className:"shareImgContainer",children:[Object(g.jsx)("img",{className:"shareImg",src:URL.createObjectURL(t),alt:""}),Object(g.jsx)(je.a,{className:"shareCancelImg",onClick:function(){return s(null)}})]})})})]})};function ke(){var e=Object(c.useContext)(I).user,t="https://socialbooksumit.herokuapp.com/public/images/",s=Object(c.useRef)(),a=Object(c.useState)(null),n=Object(i.a)(a,2),r=n[0],o=n[1],l=function(){var t=Object(Q.a)(z.a.mark((function t(c){var a,n,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),a={userId:e._id,desc:s.current.value+""},!r){t.next=16;break}return n=new FormData,i=Date.now()+r.name,n.append("name",i),n.append("file",r),a.img=i,console.log(a),t.prev=9,t.next=12,X.post("/upload",n);case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(9);case 16:return t.prev=16,t.next=19,X.post("/posts",a);case 19:window.location.reload(),t.next=24;break;case 22:t.prev=22,t.t1=t.catch(16);case 24:case"end":return t.stop()}}),t,null,[[9,14],[16,22]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"share",children:Object(g.jsxs)("div",{className:"shareWrapper",children:[Object(g.jsxs)("div",{className:"shareTop",children:[Object(g.jsx)("img",{className:"shareProfileImg",src:e.profilePicture?t+e.profilePicture:t+"search.png",alt:""}),Object(g.jsx)("input",{placeholder:"What's in your mind "+e.username+"?",className:"shareInput",ref:s})]}),Object(g.jsx)("hr",{className:"shareHr"}),r&&Object(g.jsx)(Ie,{file:r,setFile:o}),Object(g.jsxs)("form",{className:"shareBottom",onSubmit:l,children:[Object(g.jsxs)("div",{className:"shareOptions",children:[Object(g.jsxs)("label",{htmlFor:"file",className:"shareOption",children:[Object(g.jsx)(he.a,{htmlColor:"tomato",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Photo or Video"}),Object(g.jsx)("input",{style:{display:"none"},type:"file",id:"file",accept:".png,.jpeg,.jpg",onChange:function(e){return o(e.target.files[0])}})]}),Object(g.jsxs)("div",{className:"shareOption",children:[Object(g.jsx)(Oe.a,{htmlColor:"blue",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Tag"})]}),Object(g.jsxs)("div",{className:"shareOption",children:[Object(g.jsx)(fe.a,{htmlColor:"green",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Location"})]}),Object(g.jsxs)("div",{className:"shareOption",children:[Object(g.jsx)(ge.a,{htmlColor:"goldenrod",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Feelings"})]})]}),Object(g.jsx)("button",{className:"shareButton",type:"submit",children:"Share"})]})]})})}s(172);function we(e){var t=e.username,s=e.text,a=e.socket,n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],l=r[1],u=Object(c.useContext)(I).user;Object(c.useEffect)((function(){j()}),[t,u._id]);var j=function(){var e=Object(Q.a)(z.a.mark((function e(){var s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,X.get("/posts/profile/"+t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,X.get("/posts/timeline/"+u._id);case 8:e.t0=e.sent;case 9:s=e.t0,l(s.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function d(){j()}return Object(g.jsx)("div",{className:"feed",children:Object(g.jsxs)("div",{className:"feedWrapper",children:[(!t||t===u.username)&&Object(g.jsx)(ke,{}),o.filter((function(e){return void 0===s||e.desc.toLowerCase().includes(s.toLowerCase())?e:null})).map((function(e){return Object(g.jsx)(be,{post:e,deletePost:d,socket:a},e._id)}))]})})}s(173);function ye(e){var t=e.socket,s=Object(c.useState)(""),a=Object(i.a)(s,2),n=a[0],r=a[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{text:n,setText:r,socket:t}),Object(g.jsxs)("div",{className:"homeContainer",children:[Object(g.jsx)(H,{}),Object(g.jsx)(we,{text:n,socket:t}),Object(g.jsx)(ce,{socket:t})]})]})}s(174);var Ce=function(){var e=Object(Q.a)(z.a.mark((function e(t,s){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"LOGIN_START"}),e.prev=1,e.next=4,X.post("auth/login",t);case 4:c=e.sent,s({type:"LOGIN_SUCCESS",payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"LOGIN_FAILURE",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,s){return e.apply(this,arguments)}}(),Se=s(218);function Le(){var e=Object(c.useRef)(),t=Object(c.useRef)(),s=Object(c.useContext)(I),a=s.user,n=s.isFetching,r=s.dispatch;return console.log(a),Object(g.jsx)("div",{className:"login",children:Object(g.jsxs)("div",{className:"loginWrapper",children:[Object(g.jsxs)("div",{className:"loginLeft",children:[Object(g.jsx)("h3",{className:"loginLogo",children:"SocialBook"}),Object(g.jsx)("span",{className:"loginDesc",children:"The Book helps to connect you with the world... SocialBook"})]}),Object(g.jsx)("div",{className:"loginRight",children:Object(g.jsxs)("form",{className:"loginBox",onSubmit:function(s){s.preventDefault(),Ce({email:e.current.value,password:t.current.value},r)},children:[Object(g.jsx)("input",{placeholder:"email",type:"email",required:!0,className:"loginInput",ref:e}),Object(g.jsx)("input",{placeholder:"password",type:"password",minLength:"6",required:!0,className:"loginInput",ref:t}),Object(g.jsx)("button",{className:"loginButton",disabled:n,children:n?Object(g.jsx)(Se.a,{color:"inherit",size:"20px"}):"Log In"}),Object(g.jsx)("span",{className:"loginForgot",children:"Forgot Password"}),Object(g.jsx)("button",{className:"loginRegisterButton",disabled:n,children:n?Object(g.jsx)(Se.a,{color:"inherit",size:"20px"}):"create a new account"})]})})]})})}s(175);function Ue(){var e="https://socialbooksumit.herokuapp.com/public/images/",t=Object(c.useState)({}),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(w.h)().pathname.split("/")[2],o=Object(c.useContext)(I).user;return Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/users?userId=".concat(r));case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{}),Object(g.jsxs)("div",{className:"profile",children:[Object(g.jsx)(H,{}),Object(g.jsxs)("div",{className:"profileRight",children:[Object(g.jsxs)("div",{className:"profileRightTop",children:[Object(g.jsxs)("div",{className:"profileCover",children:[Object(g.jsx)("img",{className:"profileCoverImg",src:a.coverPicture?e+a.coverPicture:e+"search.png",alt:""}),a._id===o._id?Object(g.jsx)(y.b,{to:"/updateProfile/"+a._id,children:Object(g.jsx)("img",{className:"profileUserImg",src:a.profilePicture?e+a.profilePicture:e+"noprofile.pg",alt:""})}):Object(g.jsx)("img",{className:"profileUserImg",src:a.profilePicture?e+a.profilePicture:e+"noprofile.pg",alt:""})]}),Object(g.jsxs)("div",{className:"profileInfo",children:[Object(g.jsx)("h4",{className:"profileInfoName",children:a.username}),Object(g.jsx)("span",{className:"profileInfoDesc",children:a.desc})]})]}),Object(g.jsxs)("div",{className:"profileRightBottom",children:[Object(g.jsx)(we,{username:a.username}),Object(g.jsx)(ce,{user:a})]})]})]})]})}s(176);function _e(){var e=Object(c.useRef)(),t=Object(c.useRef)(),s=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(w.g)(),r=function(){var c=Object(Q.a)(z.a.mark((function c(r){var i;return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.preventDefault(),a.current.value===s.current.value){c.next=5;break}s.current.setCustomValidity("Password dont match!!"),c.next=15;break;case 5:return i={username:e.current.value,email:t.current.value,password:s.current.value},c.prev=6,c.next=9,X.post("/auth/register",i);case 9:n.push("/login"),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(6),console.log(c.t0);case 15:case"end":return c.stop()}}),c,null,[[6,12]])})));return function(e){return c.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"login",children:Object(g.jsxs)("div",{className:"loginWrapper",children:[Object(g.jsxs)("div",{className:"loginLeft",children:[Object(g.jsx)("h3",{className:"loginLogo",children:"SocialBook"}),Object(g.jsx)("span",{className:"loginDesc",children:"The Book helps to connect you with the world... SocialBook"})]}),Object(g.jsx)("div",{className:"loginRight",children:Object(g.jsxs)("form",{className:"loginBox",onSubmit:r,children:[Object(g.jsx)("input",{placeholder:"Username",required:!0,ref:e,className:"loginInput"}),Object(g.jsx)("input",{placeholder:"email",required:!0,ref:t,type:"email",className:"loginInput"}),Object(g.jsx)("input",{placeholder:"password",minLength:"6",required:!0,ref:s,type:"password",className:"loginInput"}),Object(g.jsx)("input",{placeholder:"password",minLength:"6",required:!0,ref:a,type:"password",className:"loginInput"}),Object(g.jsx)("button",{className:"loginButton",type:"submit",children:"Sign In"}),Object(g.jsx)("button",{className:"loginRegisterButton",children:Object(g.jsx)(y.b,{to:"/login",children:"Log in TO your ACCOUNT"})})]})})]})})}s(177),s(178);function Pe(e){var t=e.conversation,s=e.currentUser,a=Object(c.useState)(null),n=Object(i.a)(a,2),r=n[0],o=n[1],l="https://socialbooksumit.herokuapp.com/public/images/";return Object(c.useEffect)((function(){var e=t.members.find((function(e){return e!==s._id}));console.log(e);var c=function(){var t=Object(Q.a)(z.a.mark((function t(){var s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.get("/users?userId="+e);case 3:s=t.sent,o(s.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();c()}),[s,t]),Object(g.jsxs)("div",{className:"conversation",children:[Object(g.jsx)("img",{className:"conversationImg",src:(null===r||void 0===r?void 0:r.profilePicture)?l+r.profilePicture:l+"person/noAvatar.png",alt:""}),Object(g.jsx)("span",{className:"conversationName",children:null===r||void 0===r?void 0:r.username})]})}s(179);function Te(e){var t=e.message,s=e.own,a=e.friend,n="https://socialbooksumit.herokuapp.com/public/images/",r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(c.useContext)(I).user;return Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/users?userId=".concat(a&&a));case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(g.jsxs)("div",{className:s?"message own":"message",children:[Object(g.jsxs)("div",{className:"messageTop",children:[Object(g.jsx)("img",{className:"messageImg",src:s?n+j.profilePicture:n+l.profilePicture,alt:""}),Object(g.jsx)("p",{className:"messageText",children:t.text})]}),Object(g.jsx)("div",{className:"messageBottom",children:Object(re.a)(t.createdAt)})]})}function Fe(e){var t=e.socket,s=Object(c.useState)([]),a=Object(i.a)(s,2),n=a[0],r=a[1],l=Object(c.useState)(null),u=Object(i.a)(l,2),j=u[0],d=u[1],b=Object(c.useState)([]),p=Object(i.a)(b,2),h=p[0],m=p[1],O=Object(c.useState)(""),x=Object(i.a)(O,2),f=x[0],v=x[1],N=Object(c.useState)(null),k=Object(i.a)(N,2),w=k[0],y=k[1],S=Object(c.useState)([]),L=Object(i.a)(S,2),U=L[0],_=L[1],P=Object(c.useContext)(I).user,T=Object(c.useRef)();Object(c.useEffect)((function(){null===t||void 0===t||t.current.on("getMessage",(function(e){y({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[t]),Object(c.useEffect)((function(){w&&(null===j||void 0===j?void 0:j.members.includes(w.sender))&&m((function(e){return[].concat(Object(o.a)(e),[w])}))}),[w,j]),Object(c.useEffect)((function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.emit("addUser",P._id),null===t||void 0===t||t.current.on("getUsers",(function(e){_(P.followings.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[P]),console.log(U),Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.get("/conversations/"+P._id);case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[P._id]),Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.get("/messages/"+(null===j||void 0===j?void 0:j._id));case 3:t=e.sent,m(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[j]);var F=function(){var e=Object(Q.a)(z.a.mark((function e(s){var c,a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),c={sender:P._id,text:f,conversationId:j._id},a=null===j||void 0===j?void 0:j.members.find((function(e){return e!==P._id})),null===t||void 0===t||t.current.emit("sendMessage",{senderId:P._id,receiverId:a,text:f}),e.prev=4,e.next=7,X.post("/messages",c);case 7:n=e.sent,m([].concat(Object(o.a)(h),[n.data])),v(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e;null===(e=T.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[h]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{}),Object(g.jsxs)("div",{className:"messenger",children:[Object(g.jsx)("div",{className:"chatMenu",children:Object(g.jsxs)("div",{className:"chatMenuWrapper",children:[Object(g.jsx)("input",{placeholder:"Search for friends",className:"chatMenuInput"}),n.map((function(e){return Object(g.jsx)("div",{onClick:function(){return d(e)},children:Object(g.jsx)(Pe,{conversation:e,currentUser:P})})}))]})}),Object(g.jsx)("div",{className:"chatBox",children:Object(g.jsx)("div",{className:"chatBoxWrapper",children:j?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"chatBoxTop",children:h.map((function(e){return Object(g.jsx)("div",{ref:T,children:Object(g.jsx)(Te,{message:e,own:e.sender===P._id,friend:e.sender!==P._id&&e.sender})})}))}),Object(g.jsxs)("div",{className:"chatBoxBottom",children:[Object(g.jsx)("textarea",{className:"chatMessageInput",placeholder:"write something...",onChange:function(e){return v(e.target.value)},value:f}),Object(g.jsx)("button",{className:"chatSubmitButton",onClick:F,children:"Send"})]})]}):Object(g.jsx)("span",{className:"noConversationText",children:"Open a conversation to start a chat."})})}),Object(g.jsx)("div",{className:"chatOnline",children:Object(g.jsx)("div",{className:"chatOnlineWrapper",children:Object(g.jsx)(Z,{onlineUsers:U,currentId:P._id,setCurrentChat:d})})})]})]})}s(180),s(181);var Re=s(121),Be=s.n(Re),Ee=function(e){var t,s=e.userc,a=Object(c.useContext)(I).user,n=Object(c.useRef)(),r=Object(c.useRef)(),o=Object(c.useRef)(),l=Object(c.useRef)(),u=Object(c.useRef)(),j=Object(c.useContext)(I).dispatch,d=Object(c.useState)(""),b=Object(i.a)(d,2),p=b[0],h=b[1],m=Object(c.useState)({imgUrl:""}),O=Object(i.a)(m,2);O[0],O[1];t=1===s.relationship?"single":2===s.relationship?"married":"others";var x="https://socialbooksumit.herokuapp.com/public/images/",f=Object(c.useState)(null),v=Object(i.a)(f,2),N=v[0],k=v[1];console.log(p);var w=function(){var e=Object(Q.a)(z.a.mark((function e(t){var c,i,l,d,b;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c={username:n.current.value?n.current.value:s.username,city:r.current.value?r.current.value:s.city,desc:o.current.value?o.current.value:s.desc,relation:u.current.value?u.current.value:s.relationship,userId:s._id},!N){e.next=18;break}return i=new FormData,l=Date.now()+N.name,i.append("name",l),i.append("file",N),c.profilePicture=l,d=t.target.files[0],h((function(e){return d})),e.prev=10,e.next=13,X.post("/upload",i);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.log(e.t0);case 18:return e.prev=18,e.next=21,X.put("/users/"+a._id,c);case 21:return e.prev=21,e.next=24,X.get("/users?userId=".concat(s._id));case 24:b=e.sent,j({type:"UPDATE_USER",payload:b.data}),e.next=30;break;case 28:e.prev=28,e.t1=e.catch(21);case 30:window.location.reload(),e.next=35;break;case 33:e.prev=33,e.t2=e.catch(18);case 35:case"end":return e.stop()}}),e,null,[[10,15],[18,33],[21,28]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"updateUser",children:Object(g.jsxs)("div",{className:"updateUserWrapper",children:[Object(g.jsxs)("div",{className:"updateUserTop",children:[Object(g.jsxs)("div",{className:"updateUserTopLeft",children:[Object(g.jsx)("h1",{className:"userDetailsText",children:"User Details"}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"Username:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:s.username})]}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"From:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:s.city})]}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"Desc:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:s.desc})]}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"RelationShip Stats:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:t})]})]}),Object(g.jsx)("div",{className:"updateUserTopRight",children:Object(g.jsx)("img",{src:s.profilePicture?x+s.profilePicture:x+"noprofile.jpg",alt:"",className:"imgContainer"})})]}),Object(g.jsx)("hr",{className:"updateHr"}),Object(g.jsxs)("form",{className:"updateUserBottom",onSubmit:w,children:[Object(g.jsxs)("div",{className:"updateUserBottomLeft",children:[Object(g.jsx)("input",{type:"text",placeholder:"change username..",className:"inputChange",ref:n}),Object(g.jsx)("input",{type:"text",placeholder:"change desc..",className:"inputChange",ref:o}),Object(g.jsx)("input",{type:"text",placeholder:"change Address..",className:"inputChange",ref:r}),Object(g.jsx)("input",{type:"password",placeholder:"change Password..",className:"inputChange",ref:l}),Object(g.jsxs)("div",{className:"radioContainer",id:"relation",ref:u,children:[Object(g.jsxs)("label",{className:"input Label",children:[Object(g.jsx)("input",{type:"radio",id:"1",name:"inputRadio",value:"1",className:"inputRadio"}),"Single"]}),Object(g.jsxs)("label",{className:"input Label",children:[Object(g.jsx)("input",{type:"radio",id:"2",value:"2",name:"inputRadio",className:"inputRadio"}),"Married"]}),Object(g.jsxs)("label",{className:"input Label",children:[Object(g.jsx)("input",{type:"radio",id:"3",value:"3",name:"inputRadio",className:"inputRadio"}),"Complex"]})]}),Object(g.jsx)("button",{className:"updateButton",type:"submit",children:"Update"})]}),Object(g.jsxs)("label",{htmlFor:"file",className:"updateUserBottomRight",children:[N&&Object(g.jsxs)("div",{className:"fileImgContainer",children:[Object(g.jsx)("img",{className:"shareImg",src:URL.createObjectURL(N),alt:""}),Object(g.jsx)(je.a,{className:"shareCancelImg",onClick:function(){return k(null)}})]}),Object(g.jsx)("input",{type:"file",id:"file",style:{display:"none"},accept:".jpg,.jpeg,.png",onChange:function(e){return k(e.target.files[0])}}),Object(g.jsx)(Be.a,{className:"registerIconAdd"})]})]})]})})},De=function(){var e=Object(w.h)().pathname.split("/")[2],t=Object(c.useState)([]),s=Object(i.a)(t,2),a=s[0],n=s[1];return Object(c.useEffect)((function(){var t=function(){var t=Object(Q.a)(z.a.mark((function t(){var s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.get("/users?userId=".concat(e));case 2:s=t.sent,n(s.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(g.jsxs)("div",{className:"updateProfile",children:[Object(g.jsx)(C,{}),Object(g.jsx)(Ee,{userc:a})]})},Ae=(s(182),s(217)),We=function(){var e="https://socialbooksumit.herokuapp.com/public/images/",t=Object(c.useState)(""),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(c.useContext)(I).user;Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/users/all");case 2:t=e.sent,u(t.data.filter((function(e){return e._id!==j._id})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{}),Object(g.jsxs)("div",{classNameName:"tagUser",children:[Object(g.jsx)("h1",{children:"Search Users"}),Object(g.jsxs)("form",{className:"searchUserBody",onSubmit:function(e){e.preventDefault();var t=l.filter((function(e){return e.username===a}));u(t)},children:[Object(g.jsx)("input",{className:"searchuser",value:a,onChange:function(e){return n(e.target.value)}}),Object(g.jsx)("button",{type:"submit",children:"search"})]}),Object(g.jsx)("div",{children:null===l||void 0===l?void 0:l.map((function(t){return Object(g.jsxs)(y.b,{to:"/profile/".concat(t._id),children:["  ",Object(g.jsxs)("div",{className:"tagUserEdit",children:[Object(g.jsx)(Ae.a,{alt:t.username,src:t.profilePicture?e+t.profilePicture:e+"search.png"}),Object(g.jsx)("span",{children:t.username})]})]})}))})]})]})},Ve=s(125);var Me=function(){var e=Object(c.useContext)(I).user,t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=Object(Ve.a)("https://socialbooksumit.herokuapp.com/")}),[]),Object(c.useEffect)((function(){null===t||void 0===t||t.current.emit("addUser",null===e||void 0===e?void 0:e._id)}),[t,e]),Object(g.jsx)(y.a,{children:Object(g.jsxs)(w.d,{children:[Object(g.jsx)(w.b,{exact:!0,path:"/",children:e?Object(g.jsx)(ye,{socket:t}):Object(g.jsx)(_e,{})}),Object(g.jsx)(w.b,{path:"/login",children:e?Object(g.jsx)(w.a,{to:"/"}):Object(g.jsx)(Le,{})}),Object(g.jsx)(w.b,{path:"/register",children:e?Object(g.jsx)(w.a,{to:"/"}):Object(g.jsx)(_e,{})}),Object(g.jsx)(w.b,{path:"/messenger",children:e?Object(g.jsx)(Fe,{socket:t}):Object(g.jsx)(w.a,{to:"/"})}),Object(g.jsx)(w.b,{path:"/profile/:userId",children:Object(g.jsx)(Ue,{})}),Object(g.jsx)(w.b,{path:"/updateProfile/:userId",children:Object(g.jsx)(De,{})}),Object(g.jsx)(w.b,{path:"/searchUser",children:Object(g.jsx)(We,{})})]})})};r.a.render(Object(g.jsx)(k,{children:Object(g.jsx)(Me,{})}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.ba1c65f6.chunk.js.map