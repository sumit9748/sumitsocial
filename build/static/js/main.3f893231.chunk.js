(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[0],{160:function(e,t,s){},166:function(e,t,s){},167:function(e,t,s){},169:function(e,t,s){},188:function(e,t,s){},189:function(e,t,s){},192:function(e,t,s){},193:function(e,t,s){},194:function(e,t,s){},195:function(e,t,s){},196:function(e,t,s){},197:function(e,t,s){},198:function(e,t,s){},199:function(e,t,s){},200:function(e,t,s){},201:function(e,t,s){},202:function(e,t,s){},203:function(e,t,s){},204:function(e,t,s){},205:function(e,t,s){},210:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),n=s(57),r=s.n(n),i=s(4),o=s(19),l=(s(160),s(118)),u=s.n(l),j=s(82),d=s.n(j),b=s(119),p=s.n(b),m=s(120),h=s.n(m),O=s(114),x=s.n(O),f=s(26),v=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"FOLLOW":return Object(f.a)(Object(f.a)({},e),{},{user:Object(f.a)(Object(f.a)({},e.user),{},{followings:[].concat(Object(o.a)(e.user.followings),[t.payload])})});case"UNFOLLOW":return Object(f.a)(Object(f.a)({},e),{},{user:Object(f.a)(Object(f.a)({},e.user),{},{followings:e.user.followings.filter((function(e){return e!==t.payload}))})});case"UPDATE_USER":return Object(f.a)(Object(f.a)({},e),{},{user:t.payload});default:return e}},g=s(0),N={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},I=Object(c.createContext)(N),y=function(e){var t=e.children,s=Object(c.useReducer)(v,N),a=Object(i.a)(s,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){localStorage.setItem("user",JSON.stringify(n.user))}),[n.user,n.message]),Object(g.jsx)(I.Provider,{value:{user:n.user,isFetching:n.isFetching,error:n.error,dispatch:r},children:t})},w=s(24),k=s(25);function S(e){var t=e.text,s=e.setText,a=e.socket,n=Object(c.useContext)(I).user,r=Object(c.useState)([]),l=Object(i.a)(r,2),j=l[0],b=l[1],m=Object(c.useState)(!1),O=Object(i.a)(m,2),f=O[0],v=O[1],N=Object(w.g)();Object(c.useEffect)((function(){var e;null===a||void 0===a||null===(e=a.current)||void 0===e||e.on("getNotification",(function(e){b((function(t){return[].concat(Object(o.a)(t),[e])}))}))}),[a]);return Object(g.jsxs)("div",{className:"topbar-container",children:[Object(g.jsx)("div",{className:"topbarLeft",children:Object(g.jsx)(k.b,{to:"/",style:{textDecoration:"none"},children:Object(g.jsx)("span",{className:"logo",children:"SocialBook"})})}),Object(g.jsx)("div",{className:"topbarCenter",children:Object(g.jsxs)("div",{className:"searchbar",children:[Object(g.jsx)(x.a,{className:"searchIcon"}),Object(g.jsx)("input",{placeholder:"search for posts",value:t,className:"searchInput",onChange:function(e){return s(e.target.value)}})]})}),Object(g.jsxs)("div",{className:"topbarRight",children:[Object(g.jsxs)("div",{className:"topbarLinks",children:[Object(g.jsx)(k.b,{to:"/",style:{linkStyle:"none",textDecoration:"none",color:"white"},children:Object(g.jsx)("span",{className:"topbarLink",children:"Home"})}),Object(g.jsx)(k.b,{to:"/searchUser",style:{linkStyle:"none",textDecoration:"none",color:"white"},children:Object(g.jsx)("span",{className:"topbarLink",children:"TimeLine"})})]}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsx)("div",{className:"topbarIconItem",children:Object(g.jsx)(k.b,{to:"/searchUser",children:Object(g.jsx)(u.a,{})})})}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsxs)("div",{className:"topbarIconItem",children:[Object(g.jsx)(k.b,{style:{linkStyle:"none",textDecoration:"none",color:"white"},to:"/messenger/".concat(n._id),children:Object(g.jsx)(d.a,{className:"chatIcon"})}),Object(g.jsx)("span",{className:"topbarIconBadge",children:"1"})]})}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsxs)("div",{className:"topbarIconItem",children:[Object(g.jsx)(p.a,{onClick:function(){return v(!0)}}),j.length>0&&Object(g.jsx)("span",{className:"topbarIconBadge",children:j.length}),f&&Object(g.jsxs)("div",{className:"notifications",children:[j.map((function(e){return function(e){var t,s=e.senderName,c=e.type,a=e.message;return t=1==c?"liked":2==c?"loved":'commented "'.concat(a,' on"'),Object(g.jsx)("span",{className:"notification",children:"".concat(s," ").concat(t," your post.")})}(e)})),Object(g.jsx)("button",{className:"nButton",onClick:(b([]),void v(!1)),children:"Mark as read"})]})]})}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsx)("div",{className:"topbarIconItem",children:Object(g.jsx)(h.a,{onClick:function(e){e.preventDefault(),localStorage.clear(),N.push("/login"),window.location.reload()}})})}),Object(g.jsx)(k.b,{to:"/profile/".concat(n._id),children:Object(g.jsx)("img",{src:n.profilePicture?n.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:"",className:"topbarImg"})})]})]})}s(166);var C=s(121),L=s.n(C),U=s(122),_=s.n(U),P=s(123),F=s.n(P),B=s(124),R=s.n(B),T=s(125),D=s.n(T),E=s(126),A=s.n(E),W=s(127),M=s.n(W),V=s(128),q=s.n(V),G=[{id:1,profilePicture:"sumit.jpg",username:"Sumit Mondal"},{id:2,profilePicture:"soumita.jpg",username:"Soumita Mondal"},{id:3,profilePicture:"bag.jpg",username:"Subhadip Bag"},{id:4,profilePicture:"suvo.jpg",username:"Subhajit Bhukta"},{id:5,profilePicture:"palash.jpg",username:"Palash Majhi"},{id:6,profilePicture:"pokai.jpg",username:"Sumit Dhara"},{id:7,profilePicture:"langta.jpg",username:"Soumalya Bhakta"}];s(167);function K(e){var t=e.user;return Object(g.jsxs)("li",{className:"sidebarFriend",children:[Object(g.jsx)("img",{src:null===t||void 0===t?void 0:t.profilePicture,alt:"",className:"sidebarFriendImg"}),Object(g.jsx)("span",{className:"sidebarFriendName",children:t.username})]})}function H(){var e=function(e){"courses"!==e?window.open("https://www.youtube.com/results?search_query=".concat(e),"_blank"):window.open("https://www.youtube.com/c/AdityaVermaTheProgrammingLord/playlists","_blank")};return Object(g.jsx)("div",{className:"leftbar",children:Object(g.jsxs)("div",{className:"sidebarWrapper",children:[Object(g.jsxs)("ul",{className:"sidebarList",children:[Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("stack")},children:[Object(g.jsx)(L.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Stack"})]}),Object(g.jsx)(k.b,{to:"/messenger",children:Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("queue")},children:[Object(g.jsx)(d.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Queue"})]})}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("videos")},children:[Object(g.jsx)(_.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Videos"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("array")},children:[Object(g.jsx)(F.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Array"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("linkedlist")},children:[Object(g.jsx)(R.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"LinkedList"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("binarysearch")},children:[Object(g.jsx)(D.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"BinarySearch"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("tree")},children:[Object(g.jsx)(A.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Tree"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("heap")},children:[Object(g.jsx)(M.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Heap"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("courses")},children:[Object(g.jsx)(q.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Courses"})]})]}),Object(g.jsx)("button",{className:"sidebarButton",children:"Show More"}),Object(g.jsx)("hr",{className:"sidebarHr"}),Object(g.jsx)("ul",{className:"sidebarFriendList",children:G.map((function(e){return Object(g.jsx)(K,{user:e},e.id)}))})]})})}var z=s(3),J=s.n(z),Q=s(9),X=(s(169),s(129)),Y=s.n(X).a.create({baseURL:"https://socialbook-api.onrender.com"});function Z(){return window.innerWidth}s(188);function $(e){var t=e.onlineUsers,s=e.currentId,a=e.setCurrentChat,n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],l=r[1],u=Object(c.useState)([]),j=Object(i.a)(u,2),d=j[0],b=j[1];Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users/friends/"+s);case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]),Object(c.useEffect)((function(){b(o.filter((function(e){return t.includes(e._id)})))}),[o,t]),console.log(d);var p=function(){var e=Object(Q.a)(J.a.mark((function e(t){var c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/conversations/find/".concat(s,"/").concat(t._id));case 3:if(c=e.sent,console.log(c.data),null!==c.data){e.next=11;break}return e.next=8,Y.post("/conversations/",{senderId:s,receiverId:t._id});case 8:a(c.data),e.next=12;break;case 11:a(c.data);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"chatOnline",children:d.map((function(e){return Object(g.jsxs)("div",{className:"chatOnlineFriend",onClick:function(){return p(e)},children:[Object(g.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(g.jsx)("img",{className:"chatOnlineImg",src:(null===e||void 0===e?void 0:e.profilePicture)?e.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:""}),Object(g.jsx)("div",{className:"chatOnlineBadge"})]}),Object(g.jsx)("span",{className:"chatOnlineName",children:null===e||void 0===e?void 0:e.username})]})}))})}var ee=s(83),te=s.n(ee),se=s(130),ce=s.n(se);function ae(e){var t=e.user,s=e.socket,a=Object(c.useState)([]),n=Object(i.a)(a,2),r=n[0],o=n[1],l=Object(c.useContext)(I),u=l.user,j=l.dispatch,d=Object(c.useState)(null===u||void 0===u?void 0:u.followings.includes(null===t||void 0===t?void 0:t._id)),b=Object(i.a)(d,2),p=b[0],m=b[1];console.log(p);var h=Object(c.useState)([]),O=Object(i.a)(h,2),x=O[0],f=O[1];Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(J.a.mark((function e(){var s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/users/friends/"+t._id);case 3:s=e.sent,o(s.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(c.useEffect)((function(){var e;null===s||void 0===s||null===(e=s.current)||void 0===e||e.on("getUsers",(function(e){f(u.followings.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[u]),console.log(x);var v=function(){var e=Object(Q.a)(J.a.mark((function e(){var c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!p){e.next=7;break}return e.next=4,Y.put("/users/unfollow/".concat(t._id),{userId:u._id});case 4:j({type:"UNFOLLOW",payload:t._id}),e.next=11;break;case 7:return e.next=9,Y.put("/users/follow/".concat(t._id),{userId:u._id});case 9:null===s||void 0===s||null===(c=s.current)||void 0===c||c.emit("friendRequest",{senderName:u.username,receiverId:t._id}),j({type:"FOLLOW",payload:t._id});case 11:m(!p),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),N=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"birthdayContainer",children:[Object(g.jsx)("img",{className:"birthdayImg",src:"assets/birthday.png",alt:""}),Object(g.jsxs)("span",{className:"birthdayText",children:[Object(g.jsx)("b",{children:"Soumita Ganguly"})," and ",Object(g.jsx)("b",{children:"3 other friends"})," have a birhday today."]})]}),Object(g.jsx)("img",{className:"rightbarAd",src:"assets/shortcut-1.png",alt:""}),Object(g.jsx)("h4",{className:"rightbarTitle",children:"Online Friends"}),Object(g.jsx)("ul",{className:"rightbarFriendList",children:Object(g.jsx)($,{onlineUsers:x,currentId:u._id})})]})},y=function(){return Object(g.jsxs)(g.Fragment,{children:[t.username!==u.username&&Object(g.jsxs)("button",{className:"rightbarFollowButton",onClick:v,children:[p?"Unfollow":"Follow",p?Object(g.jsx)(ce.a,{}):Object(g.jsx)(te.a,{})]}),Object(g.jsx)("h4",{className:"rightbarTitle",children:"User information"}),Object(g.jsxs)("div",{className:"rightbarInfo",children:[Object(g.jsxs)("div",{className:"rightbarInfoItem",children:[Object(g.jsx)("span",{className:"rightbarInfoKey",children:"City:"}),Object(g.jsx)("span",{className:"rightbarInfoValue",children:t.city})]}),Object(g.jsxs)("div",{className:"rightbarInfoItem",children:[Object(g.jsx)("span",{className:"rightbarInfoKey",children:"From:"}),Object(g.jsx)("span",{className:"rightbarInfoValue",children:t.from})]}),Object(g.jsxs)("div",{className:"rightbarInfoItem",children:[Object(g.jsx)("span",{className:"rightbarInfoKey",children:"Relationship:"}),Object(g.jsx)("span",{className:"rightbarInfoValue",children:1===t.relationship?"Single":1===t.relationship?"Married":"-"})]})]}),Object(g.jsx)("h4",{className:"rightbarTitle",children:"User friends"}),Object(g.jsx)("div",{className:"rightbarFollowings",children:r.map((function(e){return Object(g.jsx)(k.b,{to:"/profile/"+e._id,style:{textDecoration:"none"},children:Object(g.jsxs)("div",{className:"rightbarFollowing",children:[Object(g.jsx)("img",{src:e.profilePicture?e.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:"",className:"rightbarFollowingImg"}),Object(g.jsx)("span",{className:"rightbarFollowingName",children:e.username})]})})}))})]})};return Object(g.jsx)("div",{className:"rightbar",children:Object(g.jsx)("div",{className:"rightbarWrapper",children:t?Object(g.jsx)(y,{}):Object(g.jsx)(N,{})})})}s(189);var ne=s(131),re=s.n(ne),ie=s(72),oe=s(253),le=s(245),ue=s(254),je=s(61),de=s.n(je),be=s(249),pe=s(258),me=s(256),he=s(257),Oe=s(132),xe=s.n(Oe),fe={position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3};function ve(e){var t=e.post,s=e.deletePost,n=e.socket,r=Object(c.useState)(t.likes.length),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(c.useState)(!1),d=Object(i.a)(j,2),b=d[0],p=d[1],m=Object(c.useState)({}),h=Object(i.a)(m,2),O=h[0],x=h[1],v=Object(c.useContext)(I).user;Object(c.useEffect)((function(){p(t.likes.includes(v._id))}),[v._id,t.likes]),Object(c.useEffect)((function(){N()}),[t]);var N=function(){var e=Object(Q.a)(J.a.mark((function e(){var s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/users?userId=".concat(t.userId));case 3:s=e.sent,x(s.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(Q.a)(J.a.mark((function e(s){var c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("1"===s){try{Y.put("/posts/"+t._id+"/like",{userId:v._id})}catch(a){}p(!b),u(b?l-1:l+1)}null===n||void 0===n||null===(c=n.current)||void 0===c||c.emit("sendNotification",{senderName:v.username,receiverId:t.userId,type:s});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var w=Object(c.useState)(!1),S=Object(i.a)(w,2),C=S[0],L=S[1],U=function(){L(!1)};return Object(g.jsx)("div",{className:"post",children:Object(g.jsxs)("div",{className:"postWrapper",children:[Object(g.jsxs)("div",{className:"postTop",children:[Object(g.jsxs)("div",{className:"postTopLeft",children:[Object(g.jsx)(k.b,{to:"Profile/".concat(O.username),children:Object(g.jsx)("img",{className:"postProfileImg",src:O.profilePicture?O.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:""})}),Object(g.jsx)("span",{className:"postUserName",children:O.username}),Object(g.jsx)("span",{className:"postDate",children:Object(ie.a)(t.createdAt)})]}),Object(g.jsxs)("div",{className:"postTopRight",children:[Object(g.jsx)(a.a.Fragment,{children:Object(g.jsx)(le.a,{hideBackdrop:!0,open:C,onClose:U,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:Object(g.jsxs)(oe.a,{sx:Object(f.a)(Object(f.a)({},fe),{},{width:400}),children:[Object(g.jsx)("h2",{id:"child-modal-title",children:"Do you want to delete this post?"}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(g.jsx)(ue.a,{variant:"outlined",onClick:function(){return function(){try{Y.put("/posts/update/".concat(t._id),{userId:v._id})}catch(e){console.log(e)}s()}()},children:"Yes"}),Object(g.jsx)(ue.a,{variant:"outlined",onClick:U,children:"No"})]}),Object(g.jsx)(de.a,{style:{position:"absolute",top:"0%",right:"0%"},onClick:U})]})})}),Object(g.jsx)(re.a,{onClick:function(){L(!0)},className:"moreVert"})]})]}),Object(g.jsxs)("div",{className:"postCenter",children:[Object(g.jsx)("span",{className:"postText",children:null===t||void 0===t?void 0:t.desc}),Object(g.jsx)("img",{className:"postImg",src:(null===t||void 0===t?void 0:t.img)?null===t||void 0===t?void 0:t.img:"",alt:""})]}),Object(g.jsx)("div",{className:"postBottom",children:Object(g.jsxs)("div",{className:"postBottomLeft",children:[Object(g.jsx)("img",{className:"likeIcon",src:"https://pngimg.com/uploads/like/small/like_PNG63.png",onClick:function(){return y("1")},alt:""}),Object(g.jsx)("img",{className:"heartIcon",src:"https://png.pngtree.com/png-vector/20220411/ourmid/pngtree-glossy-heart-best-vector-ai-and-png-png-image_4538478.png",onClick:function(){return y("2")},alt:""}),Object(g.jsxs)("span",{className:"likeCounter",children:[l," people liked it"]})]})}),Object(g.jsx)("div",{className:"postBottomRight",children:Object(g.jsx)("span",{className:"postCommentText",children:Object(g.jsx)(ge,{post:t,socket:n,currentUser:v})})})]})})}var ge=function(e){var t=e.post,s=e.currentUser,n=a.a.useState(!1),r=Object(i.a)(n,2),o=r[0],l=r[1],u=Object(c.useState)(""),j=Object(i.a)(u,2),d=j[0],b=j[1],p=Object(c.useState)([]),m=Object(i.a)(p,2),h=m[0],O=m[1];Object(c.useEffect)((function(){f()}),[t]);var x,f=function(){var e=Object(Q.a)(J.a.mark((function e(){var s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/comment/allComment/".concat(t._id));case 3:s=e.sent,O(s.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(Q.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.post("/comment/",{postId:t._id,text:d,commenter:s.username,commenterPic:s.profilePicture});case 3:f(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(be.a,{expanded:"panel1"===o,sx:{backgroundColor:" black",color:"white"},onChange:(x="panel1",function(e,t){l(!!t&&x)}),children:[Object(g.jsxs)(me.a,{expandIcon:Object(g.jsx)(xe.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[Object(g.jsx)(he.a,{sx:{width:"33%",flexShrink:0,height:"15%"},children:"Comments"}),Object(g.jsx)(he.a,{sx:{color:"text.secondary"}})]}),Object(g.jsxs)(pe.a,{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(g.jsxs)("div",{style:{width:"100%"},children:[Object(g.jsx)("input",{type:"text",style:{display:"flex",width:"90%",margin:"4px 2px"},onChange:function(e){return b(e.target.value)}}),Object(g.jsx)("button",{style:{marginBottom:"20px"},onClick:function(){return v()},children:"Send"})]}),null===h||void 0===h?void 0:h.map((function(e){return Object(g.jsxs)("div",{className:"comment",children:[Object(g.jsxs)("div",{className:"commentleft",children:[Object(g.jsx)("img",{src:null===e||void 0===e?void 0:e.commenterPic,alt:"",style:{width:"25px",height:"25px",borderRadius:"50%",objectFit:"cover"}}),Object(g.jsx)("p",{style:{fontSize:"10px",color:"gray"},children:Object(ie.a)(null===e||void 0===e?void 0:e.createdAt)})]}),Object(g.jsx)("div",{className:"commentright",children:Object(g.jsx)("p",{children:null===e||void 0===e?void 0:e.text})})]})}))]})]})},Ne=(s(192),s(134)),Ie=s.n(Ne),ye=s(135),we=s.n(ye),ke=s(136),Se=s.n(ke),Ce=s(137),Le=s.n(Ce),Ue=(s(193),{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3}),_e=function(e){var t=e.file,s=e.setFile,c=a.a.useState(!1),n=Object(i.a)(c,2),r=n[0],o=n[1];return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)(ue.a,{onClick:function(){o(!0)},children:"View"}),Object(g.jsx)(le.a,{open:r,onClose:function(){o(!1)},"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(g.jsx)(oe.a,{sx:Object(f.a)(Object(f.a)({},Ue),{},{width:400}),children:Object(g.jsxs)("div",{className:"shareImgContainer",children:[Object(g.jsx)("img",{className:"shareImg",src:URL.createObjectURL(t),alt:""}),Object(g.jsx)(de.a,{className:"shareCancelImg",onClick:function(){return s(null)}})]})})})]})},Pe=s(35),Fe=s(133),Be=Object(Fe.a)({apiKey:"AIzaSyBauuA63lmMA9XFHRIUtRUNZ8pLt9g3Nek",authDomain:"socialmeo-c671e.firebaseapp.com",projectId:"socialmeo-c671e",storageBucket:"socialmeo-c671e.appspot.com",messagingSenderId:"1008548068290",appId:"1:1008548068290:web:84d201514c829e3c5f345b"}),Re=Object(Pe.b)(Be);function Te(){var e=Object(c.useContext)(I).user,t=Object(c.useRef)(),s=Object(c.useState)(null),a=Object(i.a)(s,2),n=a[0],r=a[1],o=function(){var s=Object(Q.a)(J.a.mark((function s(c){var a,r,i,o;return J.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:c.preventDefault(),a={userId:e._id,desc:t.current.value+""},n?(r=new FormData,i=n.name+Date.now(),r.append("name",i),r.append("file",n),o=Object(Pe.c)(Re,"images/".concat(n.name+Date.now())),Object(Pe.d)(o,n).then((function(){Object(Pe.a)(o).then((function(e){a.img=String(e),Y.post("/posts",a).then((function(){window.location.reload()}))}))}))):Y.post("/posts",a).then((function(){window.location.reload()}));case 3:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"share",children:Object(g.jsxs)("div",{className:"shareWrapper",children:[Object(g.jsxs)("div",{className:"shareTop",children:[Object(g.jsx)("img",{className:"shareProfileImg",src:e.profilePicture?e.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:""}),Object(g.jsx)("input",{placeholder:"What's in your mind "+e.username+"?",className:"shareInput",ref:t})]}),Object(g.jsx)("hr",{className:"shareHr"}),n&&Object(g.jsx)(_e,{file:n,setFile:r}),Object(g.jsxs)("form",{className:"shareBottom",onSubmit:o,children:[Object(g.jsxs)("div",{className:"shareOptions",children:[Object(g.jsxs)("label",{htmlFor:"file",className:"shareOption",children:[Object(g.jsx)(Ie.a,{htmlColor:"tomato",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Photo or Video"}),Object(g.jsx)("input",{style:{display:"none"},type:"file",id:"file",accept:".png,.jpeg,.jpg",onChange:function(e){return r(e.target.files[0])}})]}),Object(g.jsxs)("div",{className:"shareOption",children:[Object(g.jsx)(we.a,{htmlColor:"blue",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Tag"})]}),Object(g.jsxs)("div",{className:"shareOption",children:[Object(g.jsx)(Se.a,{htmlColor:"green",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Location"})]}),Object(g.jsxs)("div",{className:"shareOption",children:[Object(g.jsx)(Le.a,{htmlColor:"goldenrod",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Feelings"})]})]}),Object(g.jsx)("button",{className:"shareButton",type:"submit",children:"Share"})]})]})})}s(194),s(195);var De=function(e){var t=e.create,s=e.user,a=e.fetchStatus,n=e.status,r=Object(c.useState)(null),o=Object(i.a)(r,2),l=o[0],u=o[1],j=function(){var e=Object(Q.a)(J.a.mark((function e(){var t,c,n,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={userId:s._id,profilePic:s.profilePicture,userstatus:s.username},l&&(c=new FormData,n=l.name+Date.now(),c.append("name",n),c.append("file",l),r=Object(Pe.c)(Re,"images/".concat(l.name+Date.now())),Object(Pe.d)(r,l).then((function(){Object(Pe.a)(r).then((function(e){t.statusPic=String(e),Y.post("/status/",t).then((function(){a()}))}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"statusComponent",children:[Object(g.jsx)("img",{src:null===n||void 0===n?void 0:n.profilePic,alt:"",className:"statusProfile"}),Object(g.jsxs)("div",{className:"back",children:[Object(g.jsx)("img",{src:null===n||void 0===n?void 0:n.statusPic,alt:""}),Object(g.jsxs)("label",{htmlFor:"file",children:[Object(g.jsx)("input",{style:{display:"none"},type:"file",id:"file",accept:".png,.jpeg,.jpg",onChange:function(e){return u(e.target.files[0])}}),t&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(te.a,{className:"statusAddIcon"}),Object(g.jsx)("button",{onClick:j,className:"statusAdder",children:"Share"})]})]})]})]})};function Ee(e){var t=e.username,s=e.socket,a=Object(c.useState)([]),n=Object(i.a)(a,2),r=n[0],o=n[1],l=Object(c.useContext)(I).user,u=Object(c.useState)([]),j=Object(i.a)(u,2),d=j[0],b=j[1];Object(c.useEffect)((function(){p(),m()}),[l]);var p=function(){var e=Object(Q.a)(J.a.mark((function e(){var s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,Y.get("/posts/profile/"+t);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,Y.get("/posts/timeline/"+l._id);case 9:e.t0=e.sent;case 10:s=e.t0,o(s.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))),e.next=16;break;case 14:e.prev=14,e.t1=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/status/all/".concat(l._id));case 3:t=e.sent,b(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();function h(){p()}return Object(g.jsx)("div",{className:"feed",children:Object(g.jsxs)("div",{className:"feedWrapper",children:[!t&&Object(g.jsxs)("div",{className:"statusProvider",children:[Object(g.jsx)(De,{create:!0,user:l,fetchStatus:m}),null===d||void 0===d?void 0:d.map((function(e){return Object(g.jsx)(De,{create:!1,user:l,status:e})}))]}),(!t||t===l.username)&&Object(g.jsx)(Te,{}),null===r||void 0===r?void 0:r.map((function(e){return Object(g.jsx)(ve,{post:e,deletePost:h,socket:s},e._id)}))]})})}s(196);function Ae(e){var t=e.socket,s=Object(c.useState)(""),a=Object(i.a)(s,2),n=a[0],r=a[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(S,{text:n,setText:r,socket:t}),Object(g.jsxs)("div",{className:"homeContainer",children:[Object(g.jsx)(H,{}),Object(g.jsx)(Ee,{text:n,socket:t}),Object(g.jsx)(ae,{socket:t})]})]})}s(197);var We=function(){var e=Object(Q.a)(J.a.mark((function e(t,s){var c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"LOGIN_START"}),e.prev=1,e.next=4,Y.post("auth/login",t);case 4:c=e.sent,s({type:"LOGIN_SUCCESS",payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"LOGIN_FAILURE",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,s){return e.apply(this,arguments)}}(),Me=s(252);function Ve(){var e=Object(c.useRef)(),t=Object(c.useRef)(),s=Object(c.useContext)(I),a=s.error,n=s.isFetching,r=s.dispatch,o=c.useState(!1),l=Object(i.a)(o,2),u=l[0],j=l[1];return Object(g.jsx)("div",{className:"login",children:Object(g.jsxs)("div",{className:"loginWrapper",children:[Object(g.jsxs)("div",{className:"loginLeft",children:[Object(g.jsx)("h3",{className:"loginLogo",children:"SocialBook"}),Object(g.jsx)("span",{className:"loginDesc",children:"The Book helps to connect you with the world... SocialBook"})]}),Object(g.jsx)("div",{className:"loginRight",children:Object(g.jsxs)("form",{className:"loginBox",onSubmit:function(s){s.preventDefault(),We({email:e.current.value,password:t.current.value},r),j(!0)},children:[Object(g.jsx)("input",{placeholder:"email",type:"email",required:!0,className:"loginInput",ref:e}),Object(g.jsx)("input",{placeholder:"password",type:"password",minLength:"6",required:!0,className:"loginInput",ref:t}),Object(g.jsx)("button",{className:"loginButton",disabled:n,children:n?Object(g.jsx)(Me.a,{color:"inherit",size:"20px"}):"Log In"}),Object(g.jsx)("span",{className:"loginForgot",children:"Forgot Password"}),u&&Object(g.jsx)(g.Fragment,{children:a?Object(g.jsx)("p",{style:{color:"red"},children:"something went wrong."}):Object(g.jsx)("p",{style:{color:"green"},children:"Successfully logged in.."})}),Object(g.jsx)("button",{className:"loginRegisterButton",disabled:n,children:n?Object(g.jsx)(Me.a,{color:"inherit",size:"20px"}):"create a new account"})]})})]})})}s(198);function qe(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(w.h)().pathname.split("/")[2],r=Object(c.useContext)(I).user;return Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users?userId=".concat(n));case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(S,{}),Object(g.jsxs)("div",{className:"profile",children:[Object(g.jsx)(H,{}),Object(g.jsxs)("div",{className:"profileRight",children:[Object(g.jsxs)("div",{className:"profileRightTop",children:[Object(g.jsxs)("div",{className:"profileCover",children:[Object(g.jsx)("img",{className:"profileCoverImg",src:s.coverPicture?s.coverPicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:""}),s._id===r._id?Object(g.jsx)(k.b,{to:"/updateProfile/"+s._id,children:Object(g.jsx)("img",{className:"profileUserImg",src:s.profilePicture?s.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:""})}):Object(g.jsx)("img",{className:"profileUserImg",src:s.profilePicture?s.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:""})]}),Object(g.jsxs)("div",{className:"profileInfo",children:[Object(g.jsx)("h4",{className:"profileInfoName",children:s.username}),Object(g.jsx)("span",{className:"profileInfoDesc",children:s.desc})]})]}),Object(g.jsxs)("div",{className:"profileRightBottom",children:[Object(g.jsx)(Ee,{username:s.username}),Object(g.jsx)(ae,{user:s})]})]})]})]})}s(199),s(248),s(246);function Ge(){var e=Object(c.useRef)(),t=Object(c.useRef)(),s=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(w.g)(),r=function(){var c=Object(Q.a)(J.a.mark((function c(r){var i;return J.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.preventDefault(),a.current.value===s.current.value){c.next=5;break}s.current.setCustomValidity("Password dont match!!"),c.next=16;break;case 5:return i={username:e.current.value,email:t.current.value,password:s.current.value},c.prev=6,c.next=9,Y.post("/auth/register",i);case 9:n.push("/login"),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(6);case 16:case"end":return c.stop()}}),c,null,[[6,13]])})));return function(e){return c.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"login",children:Object(g.jsxs)("div",{className:"loginWrapper",children:[Object(g.jsxs)("div",{className:"loginLeft",children:[Object(g.jsx)("h3",{className:"loginLogo",children:"SocialBook"}),Object(g.jsx)("span",{className:"loginDesc",children:"The Book helps to connect you with the world... SocialBook"})]}),Object(g.jsx)("div",{className:"loginRight",children:Object(g.jsxs)("form",{className:"loginBox",onSubmit:r,children:[Object(g.jsx)("input",{placeholder:"Username",required:!0,ref:e,className:"loginInput"}),Object(g.jsx)("input",{placeholder:"email",required:!0,ref:t,type:"email",className:"loginInput"}),Object(g.jsx)("input",{placeholder:"password",minLength:"6",required:!0,ref:s,type:"password",className:"loginInput"}),Object(g.jsx)("input",{placeholder:"password",minLength:"6",required:!0,ref:a,type:"password",className:"loginInput"}),Object(g.jsx)("button",{className:"loginButton",type:"submit",children:"Sign In"}),Object(g.jsx)("button",{className:"loginRegisterButton",children:Object(g.jsx)(k.b,{to:"/login",children:"Log in TO your ACCOUNT"})})]})})]})})}s(200),s(201);function Ke(e){var t=e.conversation,s=e.currentUser,a=Object(c.useState)(null),n=Object(i.a)(a,2),r=n[0],o=n[1];return Object(c.useEffect)((function(){var e=t.members.find((function(e){return e!==s._id}));console.log(e);var c=function(){var t=Object(Q.a)(J.a.mark((function t(){var s;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.get("/users?userId="+e);case 3:s=t.sent,o(s.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();c()}),[s,t]),Object(g.jsxs)("div",{className:"conversation",children:[Object(g.jsx)("img",{className:"conversationImg",src:(null===r||void 0===r?void 0:r.profilePicture)?r.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:""}),Object(g.jsx)("span",{className:"conversationName",children:null===r||void 0===r?void 0:r.username})]})}s(202);function He(e){var t=e.message,s=e.own,a=e.friend,n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],l=r[1],u=Object(c.useContext)(I).user;return Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users?userId=".concat(a&&a));case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(g.jsxs)("div",{className:s?"message own":"message",children:[Object(g.jsxs)("div",{className:"messageTop",children:[Object(g.jsx)("img",{className:"messageImg",src:s?u.profilePicture:o.profilePicture,alt:""}),Object(g.jsx)("p",{className:"messageText",children:t.text})]}),Object(g.jsx)("div",{className:"messageBottom",children:Object(ie.a)(t.createdAt)})]})}function ze(e){var t=e.socket,s=Object(c.useState)([]),a=Object(i.a)(s,2),n=a[0],r=a[1],l=Object(c.useState)(null),u=Object(i.a)(l,2),j=u[0],d=u[1],b=Object(c.useState)([]),p=Object(i.a)(b,2),m=p[0],h=p[1],O=Object(c.useState)(""),x=Object(i.a)(O,2),f=x[0],v=x[1],N=Object(c.useState)(null),y=Object(i.a)(N,2),w=y[0],k=y[1],C=Object(c.useState)([]),L=Object(i.a)(C,2),U=L[0],_=L[1],P=Object(c.useContext)(I).user,F=function(){var e=Object(c.useState)(Z),t=Object(i.a)(e,2),s=t[0],a=t[1];return window.addEventListener("resize",(function(){a(window.innerWidth)})),s}(),B=Object(c.useRef)();Object(c.useEffect)((function(){null===t||void 0===t||t.current.on("getMessage",(function(e){k({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[t]),Object(c.useEffect)((function(){w&&(null===j||void 0===j?void 0:j.members.includes(w.sender))&&h((function(e){return[].concat(Object(o.a)(e),[w])}))}),[w,j]),Object(c.useEffect)((function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.emit("addUser",P._id),null===t||void 0===t||t.current.on("getUsers",(function(e){_(P.followings.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[P]),Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/conversations/"+P._id);case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[P._id]),Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/messages/"+(null===j||void 0===j?void 0:j._id));case 3:t=e.sent,h(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[j]);var R=function(){var e=Object(Q.a)(J.a.mark((function e(s){var c,a,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),c={sender:P._id,text:f,conversationId:j._id},a=null===j||void 0===j?void 0:j.members.find((function(e){return e!==P._id})),null===t||void 0===t||t.current.emit("sendMessage",{senderId:P._id,receiverId:a,text:f}),e.prev=4,e.next=7,Y.post("/messages",c);case 7:n=e.sent,h([].concat(Object(o.a)(m),[n.data])),v(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e;null===(e=B.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[m]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(S,{}),Object(g.jsx)("div",{className:"messenger",children:F>768?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"chatMenu",children:Object(g.jsxs)("div",{className:"chatMenuWrapper",children:[Object(g.jsx)("input",{placeholder:"Search for friends",className:"chatMenuInput"}),n.map((function(e){return Object(g.jsx)("div",{onClick:function(){return d(e)},children:Object(g.jsx)(Ke,{conversation:e,currentUser:P})})}))]})}),Object(g.jsx)("div",{className:"chatBox",children:Object(g.jsx)("div",{className:"chatBoxWrapper",children:j?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"chatBoxTop",children:m.map((function(e){return Object(g.jsx)("div",{ref:B,children:Object(g.jsx)(He,{message:e,own:e.sender===P._id,friend:e.sender!==P._id&&e.sender})})}))}),Object(g.jsxs)("div",{className:"chatBoxBottom",children:[Object(g.jsx)("textarea",{className:"chatMessageInput",placeholder:"write something...",onChange:function(e){return v(e.target.value)},value:f}),Object(g.jsx)("button",{className:"chatSubmitButton",onClick:R,children:"Send"})]})]}):Object(g.jsx)("span",{className:"noConversationText",children:"Open a conversation to start a chat."})})}),Object(g.jsx)("div",{className:"chatOnline",children:Object(g.jsx)("div",{className:"chatOnlineWrapper",children:Object(g.jsx)($,{onlineUsers:U,currentId:P._id,setCurrentChat:d})})})]}):Object(g.jsx)(g.Fragment,{children:j?Object(g.jsxs)("div",{className:"chatBoxWrapper",children:[Object(g.jsx)("div",{className:"chatBoxTop",children:m.map((function(e){return Object(g.jsx)("div",{ref:B,children:Object(g.jsx)(He,{message:e,own:e.sender===P._id,friend:e.sender!==P._id&&e.sender})})}))}),Object(g.jsxs)("div",{className:"chatBoxBottom",children:[Object(g.jsx)("textarea",{className:"chatMessageInput",placeholder:"write something...",onChange:function(e){return v(e.target.value)},value:f}),Object(g.jsx)("button",{className:"chatSubmitButton",onClick:R,children:"Send"})]})]}):Object(g.jsxs)("div",{className:"chatMenuWrapper",children:[Object(g.jsx)("input",{placeholder:"Search for friends",className:"chatMenuInput"}),n.map((function(e){return Object(g.jsx)("div",{onClick:function(){return d(e)},children:Object(g.jsx)(Ke,{conversation:e,currentUser:P})})}))]})})})]})}s(203);var Je=s(138),Qe=(s(204),s(139)),Xe=s.n(Qe),Ye=function(e){Object(Je.a)(e);var t=Object(c.useContext)(I).user,s=Object(c.useRef)(),a=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useRef)(),o=Object(c.useRef)(),l=Object(c.useContext)(I).dispatch,u=Object(c.useState)(""),j=Object(i.a)(u,2),d=j[0],b=j[1];1===t.relationship||t.relationship;var p=Object(c.useState)(null),m=Object(i.a)(p,2),h=m[0],O=m[1];console.log(d);var x=function(){var e=Object(Q.a)(J.a.mark((function e(c){var r,i,u,j,d;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),r={username:s.current.value?s.current.value:t.username,city:a.current.value?a.current.value:t.city,desc:n.current.value?n.current.value:t.desc,relation:o.current.value?o.current.value:t.relationship,userId:t._id},h?(i=new FormData,u=h.name+Date.now(),i.append("name",u),i.append("file",h),j=h,console.log(h),b((function(e){return j})),d=Object(Pe.c)(Re,"images/".concat(h.name+Date.now())),Object(Pe.d)(d,h).then((function(){Object(Pe.a)(d).then((function(e){r.profilePicture=String(e),Y.put("/users/"+t._id,r).then((function(){Y.get("/users?userId=".concat(t._id)).then((function(e){l({type:"UPDATE_USER",payload:e.data})}))}))}))}))):Y.put("/users/"+t._id,r).then((function(){Y.get("/users?userId=".concat(t._id)).then((function(e){l({type:"UPDATE_USER",payload:e.data})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"updateUser",children:Object(g.jsxs)("div",{className:"updateUserWrapper",children:[Object(g.jsxs)("div",{className:"updateUserTop",children:[Object(g.jsxs)("div",{className:"updateUserTopLeft",children:[Object(g.jsx)("h1",{className:"userDetailsText",children:"User Details"}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"Username:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:t.username})]}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"From:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:t.city})]}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"Desc:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:t.desc})]}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"RelationShip Stats:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:t.relationship})]})]}),Object(g.jsx)("div",{className:"updateUserTopRight",children:Object(g.jsx)("img",{src:t.profilePicture?t.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg",alt:"",className:"imgContainer"})})]}),Object(g.jsx)("hr",{className:"updateHr"}),Object(g.jsxs)("form",{className:"updateUserBottom",onSubmit:x,children:[Object(g.jsxs)("div",{className:"updateUserBottomLeft",children:[Object(g.jsx)("input",{type:"text",placeholder:"change username..",className:"inputChange",ref:s}),Object(g.jsx)("input",{type:"text",placeholder:"change desc..",className:"inputChange",ref:n}),Object(g.jsx)("input",{type:"text",placeholder:"change Address..",className:"inputChange",ref:a}),Object(g.jsx)("input",{type:"password",placeholder:"change Password..",className:"inputChange",ref:r}),Object(g.jsxs)("div",{className:"radioContainer",id:"relation",ref:o,children:[Object(g.jsxs)("label",{className:"input Label",children:[Object(g.jsx)("input",{type:"radio",id:"1",name:"inputRadio",value:"1",className:"inputRadio"}),"Single"]}),Object(g.jsxs)("label",{className:"input Label",children:[Object(g.jsx)("input",{type:"radio",id:"2",value:"2",name:"inputRadio",className:"inputRadio"}),"Married"]}),Object(g.jsxs)("label",{className:"input Label",children:[Object(g.jsx)("input",{type:"radio",id:"3",value:"3",name:"inputRadio",className:"inputRadio"}),"Complex"]})]}),Object(g.jsx)("button",{className:"updateButton",type:"submit",children:"Update"})]}),Object(g.jsxs)("label",{htmlFor:"file",className:"updateUserBottomRight",children:[h&&Object(g.jsxs)("div",{className:"fileImgContainer",children:[Object(g.jsx)("img",{className:"shareImg",src:URL.createObjectURL(h),alt:""}),Object(g.jsx)(de.a,{className:"shareCancelImg",onClick:function(){return O(null)}})]}),Object(g.jsx)("input",{type:"file",id:"file",style:{display:"none"},accept:".jpg,.jpeg,.png",onChange:function(e){return O(e.target.files[0])}}),Object(g.jsx)(Xe.a,{className:"registerIconAdd"})]})]})]})})},Ze=function(e){var t=e.listItem,s=Object(w.h)().pathname.split("/")[2],a=Object(c.useState)([]),n=Object(i.a)(a,2),r=n[0],o=n[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users?userId=".concat(s));case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]),Object(g.jsxs)("div",{className:"updateProfile",children:[Object(g.jsx)(S,{}),Object(g.jsx)(Ye,{userc:r,listItem:t})]})},$e=(s(205),s(251)),et=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],l=r[1],u=Object(c.useContext)(I).user;Object(c.useEffect)((function(){var e=function(){var e=Object(Q.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("/users/all");case 2:t=e.sent,l(t.data.filter((function(e){return e._id!==u._id})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(S,{}),Object(g.jsxs)("div",{classNameName:"tagUser",children:[Object(g.jsx)("h1",{children:"Search Users"}),Object(g.jsxs)("form",{className:"searchUserBody",onSubmit:function(e){e.preventDefault();var t=o.filter((function(e){return e.username===s}));l(t)},children:[Object(g.jsx)("input",{className:"searchuser",value:s,onChange:function(e){return a(e.target.value)}}),Object(g.jsx)("button",{type:"submit",children:"search"})]}),Object(g.jsx)("div",{children:null===o||void 0===o?void 0:o.map((function(e){return Object(g.jsxs)(k.b,{to:"/profile/".concat(e._id),style:{linkStyle:"none",textDecoration:"none"},children:["  ",Object(g.jsxs)("div",{className:"tagUserEdit",children:[Object(g.jsx)($e.a,{alt:e.username,src:e.profilePicture?e.profilePicture:"https://i.pinimg.com/736x/d9/56/9b/d9569bbed4393e2ceb1af7ba64fdf86a.jpg"}),Object(g.jsx)("a",{className:"linksTag",children:e.username})]})]})}))})]})]})},tt=s(143);var st=function(){var e=Object(c.useContext)(I).user,t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=Object(tt.a)("https://socialbooksumit.herokuapp.com/")}),[]),Object(c.useEffect)((function(){null===t||void 0===t||t.current.emit("addUser",null===e||void 0===e?void 0:e._id)}),[t,e]),Object(g.jsx)(k.a,{children:Object(g.jsxs)(w.d,{children:[Object(g.jsx)(w.b,{exact:!0,path:"/",children:e?Object(g.jsx)(Ae,{socket:t}):Object(g.jsx)(Ge,{})}),Object(g.jsx)(w.b,{path:"/login",children:e?Object(g.jsx)(w.a,{to:"/"}):Object(g.jsx)(Ve,{})}),Object(g.jsx)(w.b,{path:"/register",children:e?Object(g.jsx)(w.a,{to:"/"}):Object(g.jsx)(Ge,{})}),Object(g.jsx)(w.b,{path:"/messenger",children:e?Object(g.jsx)(ze,{socket:t}):Object(g.jsx)(w.a,{to:"/"})}),Object(g.jsx)(w.b,{path:"/profile/:userId",children:Object(g.jsx)(qe,{})}),Object(g.jsx)(w.b,{path:"/updateProfile/:userId",children:Object(g.jsx)(Ze,{})}),Object(g.jsx)(w.b,{path:"/searchUser",children:Object(g.jsx)(et,{})})]})})},ct=s(146);Object(ct.a)(),r.a.render(Object(g.jsx)(y,{children:Object(g.jsx)(st,{})}),document.getElementById("root"))}},[[210,1,2]]]);
//# sourceMappingURL=main.3f893231.chunk.js.map